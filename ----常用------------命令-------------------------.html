<html>
<head>
  <title>//----常用------------命令----------------------------------------------------------</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/303788 (zh-CN, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="3093"/>
<h1>//----常用------------命令----------------------------------------------------------</h1>

<div>
<span><div>//----常用------------命令--------------------------------------------------------------------</div><div><b>rpm软件管理</b>工具</div><div>        <b>查找</b>:rpm –qa | grep 关键词 </div><div>        <b>卸载</b>:rpm –e  软件名  [--nodeps 强制删除关联]</div><div>        <b>安装</b>:rpm –ivh 软件名 </div><div><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">ls|grep firefox,</span></font><font color="#010101" size="2"><span style="font-size:10pt">rpm -ivh `ls|grep firefox`</span></font></div><div align="left" style="min-height: 12pt;"><div><font color="#010101" face="Microsoft YaHei" size="1"><span style="font-size:8pt">ps -ef | grep 服务 查看服务进程</span></font></div></div><div align="left" style="min-height: 12pt;"><div><font color="#010101" face="Microsoft YaHei" size="1"><span style="font-size:8pt">cat  查看文件内容</span></font></div><div><b><font color="#010101" face="Microsoft YaHei" size="1"><span style="font-size:8pt">find /  -name  test -print</span></font></b></div><div><b>1.1、关闭防火墙，必须，这样才能使用ssh，apache，mysql服务，远程</b></div><div>方法1#service 服务名 start/stop/restart 关闭防火墙服务</div><div>方法2rpm -e iptables-1.4.7-14.e16.i868 --nodeps 删除防火墙</div><div>方法3vim /etc/sysconfig/iptables，打开修改保存，复制并粘贴2句，将允许的端口设置为<b>22,80,3306</b></div><div>例：-A INPUT -m state --state NEW -m tcp -p tcp --dport 22 -j ACCEPT设置22端口允许</div><div>1.2linux中的解压命令</div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; background:#ffff00"><b>命令</b></span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt; background:#ffff00"><b>1</b></span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; background:#ffff00"><b>：</b></span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt; background:#ffff00"><b>gz</b></span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; background:#ffff00"><b>格式文件</b></span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt; background:#ffff00"><b>                 #tar -zxvf</b></span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt; background:#ffff00"><b>压缩包路径</b></span></font></div><div align="justify" style="min-height: 14pt;"><div><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; background:#ffff00"><b>命令</b></span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt; background:#ffff00"><b>2</b></span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; background:#ffff00"><b>：</b></span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt; background:#ffff00"><b>bz2</b></span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; background:#ffff00"><b>格式文件</b></span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt; background:#ffff00"><b>              #tar -jxvf</b></span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt; background:#ffff00"><b>压缩包路径</b></span></font></div><div>2开始编译模式安装LAMP-----例：<font color="#010101" face="宋体" size="2"><span style="font-size:10pt">2.1安装</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">zlib</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">压缩库</span></font></div><div align="justify" style="min-height: 10pt;"><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>shell&gt;#cd /root/data</div><div>shell&gt;#tar -zxvf zlib-1.2.5.tar.gz</div><div>shell&gt;#cd zlib-1.2.5</div><div>shell&gt;#./configure          //对当前的程序安装进行配置，指定安装路径</div><div>shell&gt;#make &amp;&amp; make install     //编译&amp;&amp;安装</div></div><div>2.2安装apache，先卸载系统中默认安装的Apache，防止80端口被占用</div><div style="margin-left:40px;"><div align="justify" style="min-height: 14pt;"><div>2.2.4<font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"><b>Apache</b></span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt"><b>启动</b></span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"><b>/</b></span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt"><b>停止</b></span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"><b>/</b></span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt"><b>重启命令：编译环境下</b></span></font></div></div></div><table cellpadding="6" cellspacing="0" style="border-collapse: collapse; border-width: 1px; border-color: #010101;width:554px;" width="553"><tbody><tr><td align="left" bgcolor="#BFBFBF" style="border: solid #010101 1px;width:99.81949458483754%;" valign="top" width="540"><div align="justify" style="min-height: 10pt;margin-left:40px;"><div><font color="#010101" face="����" size="2"><span style="font-size:10pt">shell&gt;#/usr/local/http2/bin/apachectl start/stop/restart</span></font></div></div></td></tr></tbody></table></div><div align="justify" style="min-height: 10pt;"><div>apache安装路径<font color="#010101" face="����" size="2"><span style="font-size:10pt">/usr/local/http2，<b>配置文件</b></span></font><b><font color="#010101" face="����" size="2"><span style="font-size:10pt"> /etc/httpd/httpd.conf</span></font></b></div><div align="justify" style="min-height: 10pt;"><div><font color="#010101" face="����" size="2"><span style="font-size:10pt">/usr/local/http2/bin/apachectl start/stop/restart</span></font></div><div align="justify" style="min-height: 14pt;"><div><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">Apache</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的站点目录位于：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">/usr/local/http2/htdocs</span></font></div></div></div><div>php安装路径<font color="#010101" face="����" size="2"><span style="font-size:10pt">--prefix=/usr/local/php</span></font></div><div align="justify" style="min-height: 10pt;"><div><font color="#010101" face="����" size="2"><span style="font-size:10pt">#cd /root/data，</span></font><font color="#010101" face="����" size="2"><span style="font-size:10pt">#cp php.ini-development  <b>/usr/local/php/lib/php.ini配置文件</b></span></font></div></div><div align="justify" style="min-height: 10pt;"><div><font color="#010101" face="����" size="2"><span style="font-size:10pt">#vim +355 /etc/httpd/httpd.conf</span></font></div></div><div align="justify" style="min-height: 10pt;"><div align="justify" style="min-height: 13pt;"><div><font color="#010101" face="等线" size="2"><span style="font-size:10pt"><b>重启apache：</b></span></font><font color="#010101" face="����" size="2"><span style="font-size:10pt">#/usr/local/http2/bin/apachectl restart</span></font></div></div></div><div>mysql安装路径：<font color="#010101" face="����" size="2"><span style="font-size:10pt">/usr/local/mysql</span></font></div><div>mysql默认数据存储位置<font color="#010101" face="����" size="2"><span style="font-size:10pt">/usr/local/mysql/data</span></font></div><div><b><span style="font-family: ����;"><span style="color: rgb(1, 1, 1);">mysql配置文件路径</span></span><font color="#010101" face="����" size="2"><span style="font-size:10pt">/etc/my.cnf</span></font></b></div><div align="justify" style="min-height: 10pt;"><div align="justify" style="min-height: 13pt;"><div><font color="#010101" face="等线" size="2"><span style="font-size:10pt"><b>后台开启运行mysql服务</b></span></font><font color="#010101" face="����" size="2"><span style="font-size:10pt">/usr/local/mysql/bin/mysqld_safe --user=mysql &amp;</span></font><div align="justify" style="min-height: 10pt;"><div><font color="#010101" face="����" size="2"><span style="font-size:10pt">root用户登录数据库/usr/local/mysql/bin/mysql -u root</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="等线" size="2"><span style="font-size:10pt"><b>设置数据库密码：</b></span></font></div><div align="justify" style="min-height: 10pt;"><font color="#010101" face="����" size="2"><span style="font-size:10pt">mysql&gt;use mysql;</span></font></div><div align="justify" style="min-height: 10pt;"><font color="#010101" face="����" size="2"><span style="font-size:10pt">mysql&gt;UPDATE user SET Password=password('</span><span style="font-size:10pt; background:#ffff00">123456</span><span style="font-size:10pt">') WHERE user='root';</span></font></div><div align="justify" style="min-height: 13pt;"><div><font color="#010101" face="����" size="2"><span style="font-size:10pt">mysql&gt;flush privileges;         //刷新权限信息</span></font></div></div><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">开启允许远程连接：</span></font></div><div align="justify" style="min-height: 14pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">更新下</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">user</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">表中的</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">host</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">字段，更新成</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">%</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">（表示允许在任何地方连接）：</span></font></div><div align="justify" style="min-height: 12pt;"><div><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">update user set host= '%' where user ='root' limit 1;</span></font></div><div><span style="font-family: Calibri;"><span style="color: rgb(1, 1, 1);">注意：在开启允许远程连接修改host字段为%前，需新建一xxx@hostlocal字段</span></span></div><div><span style="font-family: Calibri;"><span style="color: rgb(1, 1, 1);">-------------------------------------------------------------------------</span></span><span style="font-family: Calibri;"><span style="color: rgb(1, 1, 1);">-------------------------------------------------------------------------</span></span><span style="font-family: Calibri;"><span style="color: rgb(1, 1, 1);">------------------</span></span></div><div>use mysql;</div><div>insert into user(host, user, password) values(&quot;%&quot;, &quot;root&quot;, password(&quot;zhumysql&quot;));#创建一个远程连接账号</div><div>grant all privileges on *.* to 'root'@'%' with grant option; #赋予任何主机访问数据库权限</div><div>flush privileges;</div><div>---------------------------------------------------------------------------------------------------------------</div><div>Yum---安装文件一般在/usr/bin下，配置文件/etc/下</div><div>- rm -f /var/run/yum.pid关掉运行中的进程</div><div>- kill -9 进程的pid---安全杀死指定进程</div><div>- pkill  服务名称----杀死相关进程，例pkill httpd</div><div>mysql安装路径 /usr/bin/</div><div>启动mysql服务service mysq<b>ld</b> start</div><div><b><font size="2"><span style="font-size:10pt">#</span></font> <font size="2"><span style="font-size:10pt">进行一些安全性配置</span></font><font size="1"><span style="font-size:9pt">[root@localhost ~]# /usr/bin/mysql_secure_installation</span></font></b></div><div><b><font size="2"><span style="font-size:10pt">查看</span></font><font size="2"><span style="font-size:10pt">mysql</span></font><font size="2"><span style="font-size:10pt">是否运行</span></font><font size="1"><span style="font-size:9pt">ps  –ef | grep  mysql</span></font><font size="1"><span style="font-size:9pt">或</span></font><font size="1"><span style="font-size:9pt">netstat -tulpn | grep -mysql</span></font></b></div><div><b><span style="font-size: 9pt;">php路径</span></b>/usr/bin/ <b><span style="font-size: 9pt;">，php配置/etc/php.ini</span></b></div><div><b><span style="font-size: 9pt;">apache配置文件路径/etc/httpd/conf/httpd.conf</span></b> 新建虚拟主机<span style="color: rgb(136, 0, 0); font-family: &quot;Source Code Pro&quot;, monospace; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgba(128, 128, 128, 0.0470588); display: inline !important; float: none;">mkdir /etc/httpd/vhost.d/</span></div><div><span style="color: rgb(0, 0, 0); font-family: &quot;PingFang SC&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); display: inline !important; float: none;">/var/www/html</span></div><div><span style="font-size: 14px;"><span style="font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span style="background-color: rgb(255, 255, 255);">find / -name yum.log     //查找文件及其路径/var/log/yum.log</span></span></span></div><div><span style="font-size: 14px;"><span style="font-family: 'PingFang SC', 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span style="background-color: rgb(255, 255, 255);">man find</span></span></span></div><div align="justify"><b><font color="#010101" size="4"><span style="font-size:16pt"><b>yum</b></span></font> <font color="#010101" size="4"><span style="font-size:16pt">语法</span></font></b><font size="1"><span style="font-size:9pt">yum</span></font><font color="#666600" size="1"><span style="font-size:9pt">[</span></font><font size="1"><span style="font-size:9pt">options</span></font><font color="#666600" size="1"><span style="font-size:9pt">][</span></font><font size="1"><span style="font-size:9pt">command</span></font><font color="#666600" size="1"><span style="font-size:9pt">][</span></font><font color="#000088" size="1"><span style="font-size:9pt">package</span></font><font color="#666600" size="1"><span style="font-size:9pt">...]</span></font><font color="#333333" size="2"><span style="font-size: 10pt; color: rgb(51, 51, 51); font-weight: bold; font-style: normal;"><b>options</b></span></font><font color="#333333" size="2"><span style="font-size:10pt"><b>：</b></span><span style="font-size:10pt">可选，</span></font><font color="#333333" size="2"><span style="font-size: 10pt; color: rgb(51, 51, 51); font-weight: bold; font-style: normal;"><b>command</b></span></font><font color="#333333" size="2"><span style="font-size:10pt"><b>：</b></span><span style="font-size:10pt">要进行的操作。</span></font><font color="#333333" size="2"><span style="font-size: 10pt; color: rgb(51, 51, 51); font-weight: bold; font-style: normal;"><b>package</b></span></font><font color="#333333" size="2"><span style="font-size:10pt">操作的对象。</span></font></div><div align="justify"><p align="justify" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.57mm; margin-bottom:4.57mm;"><font color="#010101" size="4"><span style="font-size:16pt"><b>Yum</b></span></font><font color="#010101" size="4"><span style="font-size:16pt"><b>常见操作</b></span></font></p><ul style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;list-style-type: disc;"><li style="display:inline;list-style:none;"><ul><li style="margin-left: 9pt; margin-right: 0pt; padding-left: 0pt; text-indent:0pt; font-size: 10pt; font-weight: Bold; color: #333333;"><div style="margin-top: 0pt; margin-bottom: 12pt;"><font color="#333333" size="2"><span style="font-size: 10pt; color: rgb(51, 51, 51); font-weight: bold; font-style: normal;"><b>1.列出所有可更新的软件清单命令：yum check-update</b></span></font></div></li><li style="margin-left: 9pt; margin-right: 0pt; padding-left: 0pt; text-indent:0pt; font-size: 10pt; font-weight: Bold; color: #333333;"><div style="margin-top: 0pt; margin-bottom: 12pt;"><font color="#333333" size="2"><span style="font-size: 10pt; color: rgb(51, 51, 51); font-weight: bold; font-style: normal;"><b>2.更新所有软件命令：yum update</b></span></font></div></li><li style="margin-left: 9pt; margin-right: 0pt; padding-left: 0pt; text-indent:0pt; font-size: 10pt; font-weight: Bold; color: #333333;"><div style="margin-top: 0pt; margin-bottom: 12pt;"><font color="#333333" size="2"><span style="font-size: 10pt; color: rgb(51, 51, 51); font-weight: bold; font-style: normal;"><b>3.仅安装指定的软件命令：yum install &lt;package_name&gt;</b></span></font></div></li><li style="margin-left: 9pt; margin-right: 0pt; padding-left: 0pt; text-indent:0pt; font-size: 10pt; font-weight: Bold; color: #333333;"><div style="margin-top: 0pt; margin-bottom: 12pt;"><font color="#333333" size="2"><span style="font-size: 10pt; color: rgb(51, 51, 51); font-weight: bold; font-style: normal;"><b>4.仅更新指定的软件命令：yum update &lt;package_name&gt;</b></span></font></div></li><li style="margin-left: 9pt; margin-right: 0pt; padding-left: 0pt; text-indent:0pt; font-size: 10pt; font-weight: Bold; color: #333333;"><div style="margin-top: 0pt; margin-bottom: 12pt;"><font color="#333333" size="2"><span style="font-size: 10pt; color: rgb(51, 51, 51); font-weight: bold; font-style: normal;"><b>5.列出所有可安裝的软件清单命令：yum list</b></span></font></div></li><li style="margin-left: 9pt; margin-right: 0pt; padding-left: 0pt; text-indent:0pt; font-size: 10pt; font-weight: Bold; color: #333333;"><div style="margin-top: 0pt; margin-bottom: 12pt;"><font color="#333333" size="2"><span style="font-size: 10pt; color: rgb(51, 51, 51); font-weight: bold; font-style: normal;"><b>6.删除软件包命令：yum remove &lt;package_name&gt;</b></span></font></div></li><li style="margin-left: 9pt; margin-right: 0pt; padding-left: 0pt; text-indent:0pt; font-size: 10pt; font-weight: Bold; color: #333333;"><div style="margin-top: 0pt; margin-bottom: 12pt;"><font color="#333333" size="2"><span style="font-size: 10pt; color: rgb(51, 51, 51); font-weight: bold; font-style: normal;"><b>7.查找软件包 命令：yum search &lt;keyword&gt;</b></span></font></div></li><li style="margin-left: 9pt; margin-right: 0pt; padding-left: 0pt; text-indent:0pt; font-size: 10pt; font-weight: Bold; color: #333333;"><div style="margin-top: 0pt; margin-bottom: 12pt;"><font color="#333333" size="2"><span style="font-size: 10pt; color: rgb(51, 51, 51); font-weight: bold; font-style: normal;"><b>8.清除缓存命令:</b></span></font><ul style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;list-style-type: circle;"><li style="display:inline;list-style:none;"><ul><li style="margin-left: 9pt; margin-right: 0pt; padding-left: 0pt; text-indent: 0pt; font-size: 10pt; font-weight: bold; color: rgb(51, 51, 51);"><div style="margin-top: 0pt; margin-bottom: 12pt;"><font color="#333333" size="2"><span style="font-size: 10pt; color: rgb(51, 51, 51); font-weight: bold; font-style: normal;"><b>yum clean packages: 清除缓存目录下的软件包</b></span></font></div></li><li style="margin-left: 9pt; margin-right: 0pt; padding-left: 0pt; text-indent: 0pt; font-size: 10pt; font-weight: bold; color: rgb(51, 51, 51);"><div style="margin-top: 0pt; margin-bottom: 12pt;"><font color="#333333" size="2"><span style="font-size: 10pt; color: rgb(51, 51, 51); font-weight: bold; font-style: normal;"><b>yum clean headers: 清除缓存目录下的 headers</b></span></font></div></li><li style="margin-left: 9pt; margin-right: 0pt; padding-left: 0pt; text-indent: 0pt; font-size: 10pt; font-weight: bold; color: rgb(51, 51, 51);"><div style="margin-top: 0pt; margin-bottom: 12pt;"><font color="#333333" size="2"><span style="font-size: 10pt; color: rgb(51, 51, 51); font-weight: bold; font-style: normal;"><b>yum clean oldheaders: 清除缓存目录下旧的 headers</b></span></font></div></li><li style="margin-left: 9pt; margin-right: 0pt; padding-left: 0pt; text-indent: 0pt; font-size: 10pt; font-weight: bold; color: rgb(51, 51, 51);"><font color="#333333" size="2"><span style="font-size: 10pt; color: rgb(51, 51, 51); font-weight: bold; font-style: normal;"><b>yum clean, yum clean all (= yum clean packages; yum clean oldheaders) :清除缓存目录下的软件包及旧的headers</b></span></font></li></ul></li></ul></div></li></ul></li></ul></div></div></div></div></div></div></div></div></div><div>//--------------------------------------常用----------------------------------------------</div><div><span style="font-size: 19px;"><b>    linux目录功能</b></span></div><div>        <b>bin目录</b>：bin里面存放可以执行程序，其中的程序任何用户都可以执行；</div><div>        etc目录：系统的配置文件目录</div><div>        home目录：所有用户的家目录；</div><div>        root目录：是root用户的家目录；</div><div>        sbin目录：里面<b>存放了可以执行的程序</b>，只有<b>root才有权限</b>去执行；</div><div>        tmp目录：临时目录，相当于windows下的tmp目录；</div><div>        <b>usr目录</b>：存放了系统或用户自己安装的软件；</div><div>        <b>var目录</b>：是系统的日志目录</div><div>    常见的远程登录工具 Putty ，xshell，secureCRT </div><div>ls -a/-l/-d目录/-i节点/-ld目录权限，init 3命令行</div><div>su:切换用户   su -c ls root当前用户切换到root执行完ls自动切换回来</div><div>shutdown -h now和halt和poweroff和init 0立刻关机，shutdown -h 10是10分钟后关机</div><div>-p 递归创建mkdir -p cd ./aa/ab/ac/a.txt,其中a.txt也是目录 <span style="font-family: SimSun;">mkdir -m 777 test</span></div><div>touch， cp -R dir1 dir2 将dir1下的所有文件及子目录复制到dir2</div><div>更名<span style="font-family: SimSun;">mv /test/test.php /test/testOne.php</span></div><div>删除目录 或文件 rm -rf /home/www/a/</div><div>vim,q,q!,保存:x,:wq,<b>注意不能写成X</b>，会导致文件加密，:w/:w  文件名     //保存/另存</div><div>//--------------------------------------------------------------------------</div><div><b>查找</b>:【/string 】<b>查找并高亮</b>string内容【 n/N】 向前切换搜索结果/向后切换</div><div><br/></div><div><br/></div><div><b>用户管理</b>vim /etc/passwd，参数-d指定用户主目录，-g指定组，-u指定用户ID号</div><div>        1添加用户:useradd</div><div>        2添加密码;passwd------passwd参数：-S大写查看密码状态，-d删，-u解锁用户，-l锁定用户<span style="font-size:11pt"><span style="font-family: SimSun;"> </span> Passwd –l user   锁定用户user1</span></div><div>        3编辑用户:usermod<font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt"><b>修改用户名：</b></span></font><font color="#FF0000" face="Calibri" size="2"><span style="font-size:10pt"><b>usermod</b></span> <span style="font-size:10pt; background:#ffff00"><b>-l</b></span></font> <font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt; background:#ffff00"><b>新的用户名</b></span></font> <font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt"><b>之前的用户名</b></span></font></div><div align="justify" style="min-height: 14pt;"><div><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt"><b>         修改用户组id：</b></span></font><font color="#FF0000" face="Calibri" size="2"><span style="font-size:10pt"><b>usermod</b></span> <span style="font-size:10pt; background:#ffff00"><b>-g</b></span></font> <font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt; background:#ffff00"><b>用户组</b></span></font><font color="#FF0000" face="Calibri" size="2"><span style="font-size:10pt; background:#ffff00"><b>id</b></span></font> <font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt"><b>之前的用户名</b></span></font></div></div><div>        4删除用户:userdel，参数<font face="Calibri"><span style="font-size:12pt"> </span></font><font face="Calibri" size="2"><span style="font-size:10pt"><b>-r</b></span></font> <font face="SimSun" size="2"><span style="font-size:10pt">删除用户的同时也删除它的主目录</span></font></div><div><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">如</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"><b>chmod 777 文件名</b>，</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">4</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">：表示读权限，</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">2</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">：表示写权限，</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">1</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">：表示执行权限</span></font></div><div align="justify" style="min-height: 14pt;"><div align="justify" style="min-height: 13pt;"><div style="margin-left:40px;"><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt"><b>在设置权限的时候需要注意的是，读权限是最基本的权限，如果一个文件或者文件夹有写权限</b></span></font></div></div></div><div><br/></div><div>tail -f 目标文件 -----<b>动态打印，例</b><b>tail -f  /var/log/cron或在日历里输出</b></div><div style="margin-left:40px;"><b>&gt;&gt;重定向</b>，追加写</div><div style="margin-left:40px;">&gt;重定向，覆盖写</div><div style="margin-left:40px;"><b>例：crontab -e;</b></div><div style="margin-left:40px;"><b>* * * * *  echo  &quot;1234567890&quot; &gt;&gt; /home/good/abcd.txt</b></div><div style="margin-left:40px;"><b>tail -f /home/good/abcd.txt能动态显示输出</b></div><div style="margin-left:40px;"><b>tail -f  /var/log/cron或在日历里输出</b></div><div><font color="#333333" face="Open Sans"><span style="font-size:12pt"><b>cron</b></span></font><font color="#333333" face="宋体"><span style="font-size:12pt"><b>介绍，配置命令在</b></span></font><font color="#333333" face="Open Sans"><span style="font-size:12pt"><b>/var/spool/cron</b></span></font><font color="#333333" face="宋体"><span style="font-size:12pt"><b>的</b></span></font><font color="#333333" face="Open Sans"><span style="font-size:12pt"><b>root</b></span></font><font color="#333333" face="宋体"><span style="font-size:12pt"><b>（或其他用户）文件里</b></span></font></div><div>crontab的使用，我们常用的命令如下：</div><div align="left" style="min-height: 12pt;"><div><b><font color="#010101" face="Microsoft YaHei" size="1"><span style="font-size:8pt">查看所有用户的定时任务  /var/spool/cron需要在此目录下</span></font></b></div></div><div>crontab[-u username]　　　　//省略用户表表示操作当前用户的crontab</div><div>-e      (编辑工作表)</div><div>-l      (列出工作表里的命令)</div><div>-r      (删除工作作)</div><div><b>crontab -e</b>进入当前用户的工作表编辑，是常见的vim界面。每行是一条命令。</div><div>crontab的命令构成为时间+动作，其时间有<b>分、时、日、月、周</b>五种，<b>操作符</b>有*，<b>/每过多少数字</b>，-从x-z，<b>，</b>散列数字</div><div>实例1：* * * * * myCommand  每1分钟执行一次myCommand</div><div>实例2：3,15 * * * * myCommand  每小时的第3分钟和第15分钟执行</div><div>实例11：* */1 * * * /etc/init.d/Apache restart         每一小时重启Apache</div><div>实例12：* 23-7/1 * * * /etc/init.d/Apache restart       晚上11点到早上7点之间，每隔一小时重启Apache</div><div><br/></div><div>3挂载【<b>mount  块状设备的位置  挂载的位置</b>】---例mount  /dev/sr0   /mnt/dvd,</div><div><b><font color="#010101" size="5"><span style="font-size:22pt"><b>五</b></span></font><font color="#010101" size="5"><span style="font-size:22pt">.yum</span></font><font color="#010101" size="5"><span style="font-size:22pt"><b>安装</b></span></font><font color="#010101" size="5"><span style="font-size:22pt">lamp</span></font></b></div><div><b><font color="#010101" size="4"><span style="font-size:14pt"><b>1</b></span></font><font color="#010101" size="4"><span style="font-size:14pt">、安装</span></font><font color="#010101" size="4"><span style="font-size:14pt"><b>Apache</b></span></font></b></div><div><font color="#666600" size="1"><span style="font-size:9pt">[root@localhost ~]# yum -y install httpd</span></font></div><div><font color="#333333" size="2"><span style="font-size:10pt">#</span></font> <font color="#333333" size="2"><span style="font-size:10pt">开机自启动</span></font><font color="#666600" size="1"><span style="font-size:9pt">[root@localhost ~]# chkconfig httpd on</span></font></div><div><font color="#333333" size="2"><span style="font-size:10pt">#</span></font> <font color="#333333" size="2"><span style="font-size:10pt">启动</span></font><font color="#333333" size="2"><span style="font-size:10pt">httpd</span></font><font color="#333333" size="2"><span style="font-size:10pt">服务</span></font><font color="#666600" size="1"><span style="font-size:9pt">[root@localhost ~]# service httpd start</span></font></div><div><font color="#333333" size="2"><span style="font-size:10pt">#</span></font><font color="#333333" size="2"><span style="font-size:10pt">安装</span></font><font color="#333333" size="2"><span style="font-size:10pt">apache</span></font> <font color="#333333" size="2"><span style="font-size:10pt">一些扩展</span></font><font color="#666600" size="1"><span style="font-size:9pt">[root@localhost ~]# yum -y install httpd-manual mod_sslmod_perlmod_auth_mysql</span></font></div><div><font color="#333333" size="2"><span style="font-size:10pt">现在直接在浏览器键入</span></font><font color="#333333" size="2"><span style="font-size:10pt">http://localhost </span></font> <font color="#333333" size="2"><span style="font-size:10pt">或</span></font> <font color="#333333" size="2"><span style="font-size:10pt">http://</span></font><font color="#333333" size="2"><span style="font-size:10pt">本机</span></font><font color="#333333" size="2"><span style="font-size:10pt">IP </span></font> <font color="#333333" size="2"><span style="font-size:10pt">，应该会看到</span></font><font color="#333333" size="2"><span style="font-size:10pt">Apache</span></font><font color="#333333" size="2"><span style="font-size:10pt">的测试页面</span></font><font color="#333333" size="2"><span style="font-size:10pt">;</span></font><font color="#333333" size="2"><span style="font-size:10pt">这里需要注意</span></font><font color="#333333" size="2"><span style="font-size:10pt">iptables</span></font><font color="#333333" size="2"><span style="font-size:10pt">的设置</span></font><font color="#333333" size="2"><span style="font-size:10pt">.</span></font></div><div><b><font color="#010101" size="4"><span style="font-size:14pt"><b>2.</b></span></font><font color="#010101" size="4"><span style="font-size:14pt">安装配置</span></font><font color="#010101" size="4"><span style="font-size:14pt"><b>MySQL</b></span></font></b></div><div><font color="#333333" size="2"><span style="font-size:10pt"># mysql         </span></font> <font color="#333333" size="2"><span style="font-size:10pt">客户端程序</span></font></div><div><font color="#333333" size="2"><span style="font-size:10pt"># mysql-server   </span></font> <font color="#333333" size="2"><span style="font-size:10pt">服务端程序</span></font></div><div><font size="2"><span style="font-size:10pt"># mysql-devel   </span></font> <font size="2"><span style="font-size:10pt">开发设计的库</span></font><font size="1"><span style="font-size:9pt">[root@localhost ~]# yum -y install mysql mysql-server mysql-devel</span></font></div><div><span style="font-size: 9pt;">在vim /etc/httpd/conf/httpd.conf里取消注释ServerName localhost:80</span></div><div align="justify" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;min-height: 2pt; background: #fafafc;"><div><font color="#333333" size="2"><span style="font-size:10pt">#</span></font> <font color="#333333" size="2"><span style="font-size:10pt">开机启动</span></font><font color="#666600" size="1"><span style="font-size:9pt">[root@localhost ~]# chkconfig mysqld on</span></font></div><div><font color="#333333" size="2"><span style="font-size:10pt">#</span></font> <font color="#333333" size="2"><span style="font-size:10pt">启动</span></font><font color="#333333" size="2"><span style="font-size:10pt">mysqld</span></font><font color="#333333" size="2"><span style="font-size:10pt">服务</span></font><font color="#666600" size="1"><span style="font-size:9pt">[root@localhost ~]# service mysqld start</span></font></div><div><font color="#333333" size="2"><span style="font-size:10pt">#</span></font> <font color="#333333" size="2"><span style="font-size:10pt">进行一些安全性配置</span></font><font color="#666600" size="1"><span style="font-size:9pt">[root@localhost ~]# /usr/bin/mysql_secure_installation</span></font></div><div><font color="#010101" size="2"><span style="font-size:10pt">查看</span></font><font color="#010101" size="2"><span style="font-size:10pt">mysql</span></font><font color="#010101" size="2"><span style="font-size:10pt">是否运行</span></font><font color="#666600" size="1"><span style="font-size:9pt">Ps  –ef | grep  mysql</span></font><font color="#666600" size="1"><span style="font-size:9pt">或</span></font><font color="#666600" size="1"><span style="font-size:9pt">netstat -tulpn | grep -imysql</span></font></div></div><div><b><b><font color="#010101" size="4"><span style="font-size:14pt">3.</span></font><font color="#010101" size="4"><span style="font-size:14pt">安装</span></font></b><font color="#010101" size="4"><span style="font-size:14pt"><b>php</b></span></font></b></div><div align="justify" style="min-height: 15pt;"><font color="#010101" size="2"><span style="font-size:10pt">安装相关模块：为了让</span></font><font color="#010101" size="2"><span style="font-size:10pt">PHP</span></font><font color="#010101" size="2"><span style="font-size:10pt">支持</span></font><font color="#010101" size="2"><span style="font-size:10pt">MySQL</span></font><font color="#010101" size="2"><span style="font-size:10pt">，我们可以安装</span></font><font color="#010101" size="2"><span style="font-size:10pt">php-mysql</span></font><font color="#010101" size="2"><span style="font-size:10pt">软件包；也可使用以下命令搜索可用的</span></font><font color="#010101" size="2"><span style="font-size:10pt">php</span></font><font color="#010101" size="2"><span style="font-size:10pt">模块</span></font></div><div align="justify" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;min-height: 15pt; background: #fafafc;"><div><font color="#666600" size="1"><span style="font-size:9pt">[root@localhost ~]# yum -y install php php-mysql</span></font></div><div><font color="#010101" size="2"><span style="font-size:10pt">#</span></font> <font color="#010101" size="2"><span style="font-size:10pt">安装</span></font><font color="#010101" size="2"><span style="font-size:10pt">php</span></font><font color="#010101" size="2"><span style="font-size:10pt">常用扩展</span></font><font color="#666600" size="1"><span style="font-size:9pt">[root@localhost ~]# yum search php</span></font></div><div><font color="#666600" size="1"><span style="font-size:9pt">[root@localhost ~]# yum -y install gd php-gd gd-devel php-xml php-common php-mbstring php-ldap php-pear php-xmlrpc php-imap</span></font></div><div><font color="#010101" size="2"><span style="font-size:10pt">###</span></font> <font color="#010101" size="2"><span style="font-size:10pt">重启</span></font><font color="#010101" size="2"><span style="font-size:10pt">httpd</span></font><font color="#010101" size="2"><span style="font-size:10pt">服务，这一步很重要</span></font><font color="#666600" size="1"><span style="font-size:9pt">[root@localhost ~]# service httpd restart</span></font></div></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">------------------------------------------</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">华丽丽分隔线</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">------------------------------------------</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">安装方法二：通过一键安装</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">lnmp</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">方法安装</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt"><b>wget -c http://soft.vpser.net/lnmp/lnmp1.3-full.tar.gz &amp;&amp; tar zxf lnmp1.3-full.tar.gz &amp;&amp; cd lnmp1.3-full &amp;&amp; ./install.sh</b></span></font> <font color="#E53333" face="Times New Roman" size="2"><span style="font-size:10pt"><b>lnmp</b></span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">先是下载好</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">lnmp1.3-full.tar.gz</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">，然后解压再执行安装</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">./install.sh</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">，安装期间必须保证联网，</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">lnmp</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">一键安装会自动安装好一些依赖包。</span></font></div><div align="justify" style="min-height: 15pt;"><div><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">安装成功之后可以这样测试：</span></font></div></div><div align="justify" style="min-height: 15pt;"><div><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">开启</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">WEB</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">服务器</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">[nginx]server nginx start</span></font></div></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">软件的管理：</span></font></div><div align="justify" style="min-height: 15pt;"><div><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">1. Mysql</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的管理：</span></font> <font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">service mysqld start|stop|restart</span></font></div></div><div><ol start="2" style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;"><li style="margin-left: 15pt; margin-right: 0pt; padding-left: -18pt; text-indent:0pt; font-family: Times New Roman; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt; font-family:Times New Roman; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">nginx</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的管理：</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">service nginx start|stop|restart</span></font></div></li><li style="margin-left: 15pt; margin-right: 0pt; padding-left: -18pt; text-indent:0pt; font-family: Times New Roman; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt; font-family:Times New Roman; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">php</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的管理</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">启动</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">php:/usr/local/php/sbin/php-fpm</span></font></div></li></ol></div><div><br/></div><div>--------------------------nginx配置---------------------------------------------------------------------</div><div style="margin: 0px; padding: 0px; background-color: rgb(247, 247, 255); font-family: &quot;Courier New&quot; !important; font-size: 12px; color: rgb(0, 0, 0); font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(0, 0, 0);">########### 每个指令必须有分号结束。#################<br/>
#user administrator administrators;  #配置用户或者组，默认为nobody nobody。<br/>
#worker_processes </span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(128, 0, 128);">2</span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(0, 0, 0);">;  #允许生成的进程数，默认为1<br/>
#pid </span>/nginx/pid/<span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(0, 0, 0);">nginx.pid;   #指定nginx进程运行文件存放地址<br/>
error_log log</span>/error.log debug;  #制定日志路径，级别。这个设置可以放入全局块，http块，server块，级别以此为：debug|info|notice|warn|error|crit|alert|<span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(0, 0, 0);">emerg<br/>
events {<br/>
    accept_mutex on;   #设置网路连接序列化，防止惊群现象发生，默认为on<br/>
    multi_accept on;  #设置一个进程是否同时接受多个网络连接，默认为off<br/>
    #use epoll;      #事件驱动模型，</span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(0, 0, 255);">select</span>|poll|kqueue|epoll|resig|/dev/poll|<span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(0, 0, 0);">eventport<br/>
    worker_connections </span> <span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(128, 0, 128);">1024</span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(0, 0, 0);">;    #最大连接数，默认为512<br/>
}<br/>
http {<br/>
    include       mime.types;   #文件扩展名与文件类型映射表<br/>
    default_type  application</span>/octet-stream; #默认文件类型，默认为text/<span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(0, 0, 0);">plain<br/>
    #access_log off; #取消服务日志   <br/>
    log_format myFormat </span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(128, 0, 0);">'</span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(128, 0, 0);">$remote_addr–$remote_user [$time_local] $request $status $body_bytes_sent $http_referer $http_user_agent $http_x_forwarded_for</span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(128, 0, 0);">'</span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(0, 0, 0);">; #自定义格式<br/>
    access_log log</span>/<span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(0, 0, 0);">access.log myFormat;  #combined为日志格式的默认值<br/>
    sendfile on;   #允许sendfile方式传输文件，默认为off，可以在http块，server块，location块。<br/>
    sendfile_max_chunk 100k;  #每个进程每次调用传输数量不能大于设定的值，默认为0，即不设上限。<br/>
    keepalive_timeout </span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(128, 0, 128);">65</span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(0, 0, 0);">;  #连接超时时间，默认为75s，可以在http，server，location块。<br/><br/>
    upstream mysvr {   <br/>
      server </span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(128, 0, 128);">127.0</span>.<span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(128, 0, 128);">0.1</span>:<span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(128, 0, 128);">7878</span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(0, 0, 0);">;<br/>
      server </span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(128, 0, 128);">192.168</span>.<span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(128, 0, 128);">10.121</span>:<span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(128, 0, 128);">3333</span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(0, 0, 0);"> backup;  #热备<br/>
    }<br/>
    error_page </span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(128, 0, 128);">404</span> https:<span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(0, 128, 0);">//</span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(0, 128, 0);">www.baidu.com; #错误页</span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(0, 0, 0);">    server {<br/>
        keepalive_requests </span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(128, 0, 128);">120</span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(0, 0, 0);">; #单连接请求上限次数。<br/>
        listen       </span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(128, 0, 128);">4545</span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(0, 0, 0);">;   #监听端口<br/>
        server_name </span> <span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(128, 0, 128);">127.0</span>.<span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(128, 0, 128);">0.1</span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(0, 0, 0);">;   #监听地址       <br/>
        location </span> ~*^.+$ {       #请求的url过滤，正则匹配，~为区分大小写，~*<span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(0, 0, 0);">为不区分大小写。<br/>
           #root path;  #根目录<br/>
           #index vv.txt;  #设置默认页<br/>
           proxy_pass  http:</span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(0, 128, 0);">//</span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(0, 128, 0);">mysvr;  #请求转向mysvr 定义的服务器列表</span><br/>
           deny <span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(128, 0, 128);">127.0</span>.<span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(128, 0, 128);">0.1</span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(0, 0, 0);">;  #拒绝的ip<br/>
           allow </span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(128, 0, 128);">172.18</span>.<span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(128, 0, 128);">5.54</span><span style="margin: 0px; padding: 0px; font-family: &quot;Courier New&quot; !important; font-size: 12px !important; color: rgb(0, 0, 0);">; #允许的ip           <br/>
        } <br/>
    }<br/>
}</span><span style="margin: 0px; padding: 0px; font-family: verdana, Arial, Helvetica, sans-serif; font-size: 14px; background-color: rgb(255, 255, 255);"> </span></div><div><br/></div><div><span style="color: rgb(51, 51, 51); font-family: 宋体; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">1、全局块：</span> <span style="color: rgb(51, 51, 51); font-family: 宋体; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">2、events块</span> <span style="color: rgb(51, 51, 51); font-family: 宋体; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">3、http块：</span> <span style="color: rgb(51, 51, 51); font-family: 宋体; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">4、server块</span> <span style="color: rgb(51, 51, 51); font-family: 宋体; font-size: 15px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-style: initial; text-decoration-color: initial; display: inline !important; float: none;">5、location块</span></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></span>
</div></body></html> 