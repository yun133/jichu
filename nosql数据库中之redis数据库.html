<html>
<head>
  <title>nosql数据库中之redis数据库</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/303788 (zh-CN, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="2319"/>
<h1>nosql数据库中之redis数据库</h1>

<div>
<span><div align="center" style="min-height: 33pt;"><div><font color="#010101" face="Calibri" size="6"><span style="font-size:24pt"><b>nosql</b></span></font><font color="#010101" face="宋体" size="6"><span style="font-size:24pt"><b>数据库中之</b></span></font><font color="#010101" face="Calibri" size="6"><span style="font-size:24pt"><b>redis</b></span></font><font color="#010101" face="宋体" size="6"><span style="font-size:24pt"><b>数据库</b></span></font></div></div><div><b><span style="font-size: 19px;">一、nosql介绍</span></b></div><div>NoSQL ,（Not Only SQL），泛指非关系型数据库。是一项全新的数据库革命性运动;</div><div><div><b>Nosql</b><b>特点</b><b>:</b></div><ol><li>NoSQL 通常是以key-value形式存储，</li><li>不支持SQL语句，</li><li>没有表结构</li></ol></div><div><span style="font-size: 16px;"><b>二、 redis介绍</b></span></div><div><div>redis是一个开源的，先进的key-value存储。它通常被称为数据结构服务器，因为键值可以包含<b>字符串</b>，<b>哈希</b>，<b>链表</b>，<b>集合</b>和<b>有序集合</b>。</div><h1 align="justify"><font color="#010101" face="宋体" size="5"><span style="font-size:22pt"><b>三、安装</b></span></font></h1><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">（</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">1</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）下载地址：</span></font><a href="http://www.redis.io/"><font color="#0000FF" face="Calibri" size="2"><span style="font-size:10pt"><u>http://www.redis.io/</u></span></font></a></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">（</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">2</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）解压软件，</span></font></div><div align="justify" style="min-height: 36pt;"><img src="nosql数据库中之redis数据库_files/Image.png" type="image/png" alt="graphic" border="0" height="48" style="height: auto;" width="552"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">（</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">3</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）进入解压目录</span></font></div><div align="justify" style="min-height: 35pt;"><img src="nosql数据库中之redis数据库_files/Image [1].png" type="image/png" alt="graphic" border="0" height="47" style="height: auto;" width="455"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">（</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">4</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）直接</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">make</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">进行编译，无需</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">configure</span></font></div><div align="justify" style="min-height: 22pt;"><img src="nosql数据库中之redis数据库_files/Image [2].png" type="image/png" alt="graphic" border="0" height="30" style="height: auto;" width="420"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">（</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">5</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）执行安装</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">注意：在安装时，该软件可以指定安装目录</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">make</span><span style="font-size:10pt"><b>PREFIX=/usr/local/redis</b></span><span style="font-size:10pt">install</span></font></div><div align="justify" style="min-height: 15pt;"><img src="nosql数据库中之redis数据库_files/Image [3].png" type="image/png" alt="graphic" border="0" height="19" style="height: auto;" width="551"/></div><div align="justify" style="min-height: 15pt;"><div><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">安装完成后，进入到安装目录</span></font></div><div><span style="font-family: 宋体;"><span style="color: rgb(1, 1, 1);">redis-benchmark性能测试，redis-check-aof，redis-check-dump日志检测工具，redis-cli客户端连接命令，redis-server服务端启动命令</span></span></div></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">（</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">6</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）在解压目录里面把配置文件拷贝到</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">redis</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的安装目录里面。</span></font></div><div align="justify" style="min-height: 187pt;"><img src="nosql数据库中之redis数据库_files/Image [4].png" type="image/png" alt="graphic" border="0" height="250" style="height: auto;" width="552"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">（</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">7</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）启动</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">redis</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的服务器</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">/usr/local/redis/bin/redis-server  /usr/local/redis/redis.conf</span></font></div><div align="justify" style="min-height: 15pt;"><img src="nosql数据库中之redis数据库_files/Image [5].png" type="image/png" alt="graphic" border="0" height="17" style="height: auto;" width="552"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">出现如下内容：则证明已经启动成功，但是，启动信息占据了当前终端。</span></font></div><div align="justify" style="min-height: 95pt;"><img src="nosql数据库中之redis数据库_files/Image [6].png" type="image/png" alt="graphic" border="0" height="127" style="height: auto;" width="548"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">解决让</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">redis</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">在后台运行，不占据当前终端</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">使用</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">vi</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">编辑器打开</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">redis</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的配置文件，</span></font></div><div align="justify" style="min-height: 46pt;"><img src="nosql数据库中之redis数据库_files/Image [7].png" type="image/png" alt="graphic" border="0" height="62" style="height: auto;" width="445"/></div><div style="border-style: solid; border-width: 1px; position: relative; z-index: 1; left: 275px; width: 287px;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">默认为</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">no</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">改为</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">yes,</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">让</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">redis</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">在后台运行，</span></font></div></div><div align="justify" style="min-height: 90pt;"><hr align="left"/><img src="nosql数据库中之redis数据库_files/Image [8].png" type="image/png" alt="graphic" border="0" height="121" style="height: auto;" width="522"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">修改完成后，要关闭</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">redis</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">服务，重启。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">关闭</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">redis</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的服务：</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">pkill redis-server</span></font></div><div align="justify" style="min-height: 27pt;"><img src="nosql数据库中之redis数据库_files/Image [9].png" type="image/png" alt="graphic" border="0" height="36" style="height: auto;" width="537"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">重启启动</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">redis</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">服务</span></font></div><div align="justify" style="min-height: 44pt;"><img src="nosql数据库中之redis数据库_files/Image [10].png" type="image/png" alt="graphic" border="0" height="59" style="height: auto;" width="553"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">redis</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的服务默认端口是</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">6379</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">，</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">可以通过</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">netstat–tunpl | grep 6379</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">查看</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">redis</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的服务是否启动成功。</span></font></div><div align="justify" style="min-height: 36pt;"><img src="nosql数据库中之redis数据库_files/Image [11].png" type="image/png" alt="graphic" border="0" height="48" style="height: auto;" width="554"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">（</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">8</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）客户端连接</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">redis</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的服务</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">/usr/local/redis-cli   </span></font></div><div align="justify" style="min-height: 48pt;"><img src="nosql数据库中之redis数据库_files/Image [12].png" type="image/png" alt="graphic" border="0" height="65" style="height: auto;" width="474"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">测试应用：</span></font></div><div align="justify" style="min-height: 69pt;"><img src="nosql数据库中之redis数据库_files/Image [13].png" type="image/png" alt="graphic" border="0" height="92" style="height: auto;" width="469"/></div><h1 align="justify"><font color="#010101" face="宋体" size="5"><span style="font-size:22pt"><b>四、</b></span></font><font color="#010101" face="Calibri" size="5"><span style="font-size:22pt"><b>redis</b></span></font><font color="#010101" face="宋体" size="5"><span style="font-size:22pt"><b>的数据类型讲解</b></span></font></h1><h2 align="justify"><font color="#010101" face="Cambria" size="4"><span style="font-size:16pt"><b>1</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:16pt"><b>、</b></span></font><font color="#010101" face="Cambria" size="4"><span style="font-size:16pt"><b>string</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:16pt"><b>类型</b></span></font></h2><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">String</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">是最简单的类型，一个</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">key</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">对应一个</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">Value</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">，</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">String</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">类型是二进制安全的。</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">Redis</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">string</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">可以包含任何数据，比如</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">jpg</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">图片或者序列化的对象。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"><b>set</b></span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">设置键值：</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">set </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">键名值</span></font></div><div align="justify" style="min-height: 76pt;"><img src="nosql数据库中之redis数据库_files/Image [14].png" type="image/png" alt="graphic" border="0" height="102" style="height: auto;" width="427"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">注意：如果键名已经存在，则会覆盖原来的值。</span></font></div><div align="justify" style="min-height: 97pt;"><img src="nosql数据库中之redis数据库_files/Image [15].png" type="image/png" alt="graphic" border="0" height="130" style="height: auto;" width="477"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"><b>get</b></span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">获取键值</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">get</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">键名</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"><b>setnx</b></span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">设置键值，</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">setnx</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">键名值</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">注意：在设置键值时，如果键名已经存在，则设置不成功。</span></font></div><div align="justify" style="min-height: 96pt;"><img src="nosql数据库中之redis数据库_files/Image [16].png" type="image/png" alt="graphic" border="0" height="129" style="height: auto;" width="482"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"><b>setex</b></span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">设置键值</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">setex</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">键名有效期值</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">在设置键值时，设置一个有效期，</span></font></div><div align="justify" style="min-height: 130pt;"><img src="nosql数据库中之redis数据库_files/Image [17].png" type="image/png" alt="graphic" border="0" height="174" style="height: auto;" width="488"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"><b>mset</b></span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt"><b>一次性可以设置多个键值</b></span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">mset</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">键名</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">1 </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">值</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">1 </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">键名</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">2</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">值</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">2……………</span></font></div><div align="justify" style="min-height: 94pt;"><img src="nosql数据库中之redis数据库_files/Image [18].png" type="image/png" alt="graphic" border="0" height="126" style="height: auto;" width="523"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">msetnx</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">一次性设置多个键值，要判断如果键名已经存在，则设置失败。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">msetnx</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">键名</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">1 </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">值</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">1 </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">键名</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">2</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">值</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">2……………</span></font></div><div align="justify" style="min-height: 144pt;"><img src="nosql数据库中之redis数据库_files/Image [19].png" type="image/png" alt="graphic" border="0" height="193" style="height: auto;" width="551"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"><b>getset</b></span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">返回旧值，设置新值</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">getset</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">键名新值</span></font></div><div align="justify" style="min-height: 94pt;"><img src="nosql数据库中之redis数据库_files/Image [20].png" type="image/png" alt="graphic" border="0" height="126" style="height: auto;" width="485"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"><b>strlen</b></span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">返回值的长度</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">strlen</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">键名</span></font></div><div align="justify" style="min-height: 67pt;"><img src="nosql数据库中之redis数据库_files/Image [21].png" type="image/png" alt="graphic" border="0" height="90" style="height: auto;" width="412"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">getrange</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">获取键值的子内容</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">getrange</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">键名开始位置结束位置</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">注意：位置是从开始计算的。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">案例：获取</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">name</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">键值的前</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">4</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">个字符</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">getrange name 0 3</span></font></div><div align="justify" style="min-height: 59pt;"><img src="nosql数据库中之redis数据库_files/Image [22].png" type="image/png" alt="graphic" border="0" height="79" style="height: auto;" width="507"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"><b>mget</b></span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">一次获取多个键值。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">mget</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">键名</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">1</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">键名</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">2</span></font></div><div align="justify" style="min-height: 67pt;"><img src="nosql数据库中之redis数据库_files/Image [23].png" type="image/png" alt="graphic" border="0" height="90" style="height: auto;" width="483"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"><b>incr</b></span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">自增操作，每执行一次自动加</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">1</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">incr</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">键名</span></font></div><div align="justify" style="min-height: 123pt;"><img src="nosql数据库中之redis数据库_files/Image [24].png" type="image/png" alt="graphic" border="0" height="165" style="height: auto;" width="421"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"><b>incrby</b></span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">可以加指定值，返回计算后的值。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">incrby</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">键名加的值</span></font></div><div align="justify" style="min-height: 97pt;"><img src="nosql数据库中之redis数据库_files/Image [25].png" type="image/png" alt="graphic" border="0" height="130" style="height: auto;" width="448"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"><b>decr</b></span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">同</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">incr</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">一样，自减操作。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"><b>decrby</b></span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">指定减去的值。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"><b>append</b></span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">追加字符串</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">append</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">键名追加的内容</span></font></div><div align="justify" style="min-height: 96pt;"><img src="nosql数据库中之redis数据库_files/Image [26].png" type="image/png" alt="graphic" border="0" height="129" style="height: auto;" width="479"/></div><h2 align="justify"><font color="#010101" face="Cambria" size="4"><span style="font-size:16pt"><b>2</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:16pt"><b>、哈希类型</b></span></font></h2><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">hashes</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">类型及操作</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">Redis hash</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">是一个</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">string</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">类型的</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">field</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">和</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">value</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的映射表。它的添加、删除操作都是</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">0</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">（</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">1</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）（平均）。</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">hash</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">特别适合用于存储对象。相较于将对象的每个字段存成单个</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">string</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">类型。将一个对象存储在</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">hash</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">类型中会占用更少的内存，并且可以更方便的存取整个对象</span></font></div><div align="justify" style="min-height: 144pt;"><img src="nosql数据库中之redis数据库_files/Image [27].png" type="image/png" alt="graphic" border="0" height="192" width="544"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">hset</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">设置哈希键值</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">hset key(</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">哈希的名称</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">)  field   value</span></font></div><div align="justify" style="min-height: 63pt;"><img src="nosql数据库中之redis数据库_files/Image [28].png" type="image/png" alt="graphic" border="0" height="85" style="height: auto;" width="552"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">hget</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">获取哈希的内容</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">hget key(</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">哈希的名称</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">)   field</span></font></div><div align="justify" style="min-height: 118pt;"><img src="nosql数据库中之redis数据库_files/Image [29].png" type="image/png" alt="graphic" border="0" height="158" style="height: auto;" width="553"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">注意：如果哈希的</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">field</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">已经存在，则会覆盖。</span></font></div><div align="justify" style="min-height: 96pt;"><img src="nosql数据库中之redis数据库_files/Image [30].png" type="image/png" alt="graphic" border="0" height="129" style="height: auto;" width="552"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"><b>hsetnx</b></span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">在设置哈希的</span></font> <font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">field</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">时，要检测</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">field</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">是否存在，如果存在则设置不成功。</span></font></div><div align="justify" style="min-height: 112pt;"><img src="nosql数据库中之redis数据库_files/Image [31].png" type="image/png" alt="graphic" border="0" height="150" style="height: auto;" width="551"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"><b>hmset</b></span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">一次性可以设置多个哈希的</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">field,value</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">hmset key(</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">哈希的名称</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">)   field1  value1  field1 value2</span></font></div><div align="justify" style="min-height: 78pt;"><img src="nosql数据库中之redis数据库_files/Image [32].png" type="image/png" alt="graphic" border="0" height="105" style="height: auto;" width="552"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"><b>hmget</b></span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">一次性可以获取哈希的多个</span></font> <font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">field</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的值。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">hmget   key(</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">哈希的名称</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">)   field1  field2</span></font></div><div align="justify" style="min-height: 54pt;"><img src="nosql数据库中之redis数据库_files/Image [33].png" type="image/png" alt="graphic" border="0" height="73" style="height: auto;" width="473"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">hincrby</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">设置哈希里面</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">  field</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的值加指定的数值。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">hincrby    key  field  number(</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">加的数值</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">)</span></font></div><div align="justify" style="min-height: 144pt;"><img src="nosql数据库中之redis数据库_files/Image [34].png" type="image/png" alt="graphic" border="0" height="192" style="height: auto;" width="550"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">hexists</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">测试哈希里面</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">field</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">是否存在，</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">hexists key  field</span></font></div><div align="justify" style="min-height: 128pt;"><img src="nosql数据库中之redis数据库_files/Image [35].png" type="image/png" alt="graphic" border="0" height="171" style="height: auto;" width="471"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"><b>hdel</b></span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">删除哈希里面的</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">field</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的内容</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">hdel  key  field</span></font></div><div align="justify" style="min-height: 129pt;"><img src="nosql数据库中之redis数据库_files/Image [36].png" type="image/png" alt="graphic" border="0" height="172" style="height: auto;" width="495"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">hkeys</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">返回哈希里面所有的</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">field</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">hkeys  key</span></font></div><div align="justify" style="min-height: 107pt;"><img src="nosql数据库中之redis数据库_files/Image [37].png" type="image/png" alt="graphic" border="0" height="143" style="height: auto;" width="424"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">hvals</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">返回哈希里面所有的</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">field</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的值。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">hvals key</span></font></div><div align="justify" style="min-height: 109pt;"><img src="nosql数据库中之redis数据库_files/Image [38].png" type="image/png" alt="graphic" border="0" height="146" style="height: auto;" width="434"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">hgetall</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">返回哈希里面所有的</span></font> <font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">field</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">和</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">value</span></font></div><div align="justify" style="min-height: 79pt;"><img src="nosql数据库中之redis数据库_files/Image [39].png" type="image/png" alt="graphic" border="0" height="106" style="height: auto;" width="389"/></div><h2 align="justify"><font color="#010101" face="Cambria" size="4"><span style="font-size:16pt"><b>3</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:16pt"><b>、</b></span></font><font color="#010101" face="Cambria" size="4"><span style="font-size:16pt"><b>lists</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:16pt"><b>类型及操作</b></span></font></h2><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">list</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">是一个链表结构，主要功能是</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">push</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">、</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">pop</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">、获取一个范围的所有值等等，操作中</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">key</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">理解为链表的名字。</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">redis</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">list</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">类型其实就是一个每个子元素都是</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">string</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">类型的双向链表。我们可以通过</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">push</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">、</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">pop</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">操作从链表的头部或者尾部添加删除元素，这样</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">list</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">即可以作为栈，又可以作为队列。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"><b>lpush</b></span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">从头部向链表里面添加数据（字符串类型）</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">lpush  key<br/></span></font><img src="nosql数据库中之redis数据库_files/Image [40].png" type="image/png" alt="graphic" border="0" height="130" style="height: auto;" width="491"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">lrange</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">取出链表里面的元素</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">lrange   key </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">开始位置结束位置，</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">取出链表里面的全部内容：</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">lrange key  0   -1</span></font></div><div align="justify" style="min-height: 195pt;"><img src="nosql数据库中之redis数据库_files/Image [41].png" type="image/png" alt="graphic" border="0" height="260" style="height: auto;" width="476"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">rpush</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">从尾部向链表里面添加数据（字符串类型）</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">rpush key</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">linsert</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">在链表里指定的位置添加元素。</span></font></div><div align="justify" style="min-height: 67pt;"><img src="nosql数据库中之redis数据库_files/Image [42].png" type="image/png" alt="graphic" border="0" height="90" style="height: auto;" width="455"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">比如：在</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">two</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">元素的前面添加一个元素（</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">xiaogang</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">linsert key  before tow  xiaogang</span></font></div><div align="justify" style="min-height: 152pt;"><img src="nosql数据库中之redis数据库_files/Image [43].png" type="image/png" alt="graphic" border="0" height="203" style="height: auto;" width="550"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">lset</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">修改链表里面的元素内容</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">lset  key </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">元素的位置（从</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">0</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">开始）新的值</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">比如：把</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">list1</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">里面的</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">xiaogang</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">改成</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">dagang.</span></font></div><div align="justify" style="min-height: 203pt;"><img src="nosql数据库中之redis数据库_files/Image [44].png" type="image/png" alt="graphic" border="0" height="271" style="height: auto;" width="514"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">ltrim</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">保留链表中指定范围的元素</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">ltrim key </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">开始位置结束位置</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">比如：只保留</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">dagang</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">和</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">two</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">两个元素。</span></font></div><div align="justify" style="min-height: 159pt;"><img src="nosql数据库中之redis数据库_files/Image [45].png" type="image/png" alt="graphic" border="0" height="213" style="height: auto;" width="479"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">lpop</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">从头部删除链表中的元素，返回删除的元素</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">lpop  key</span></font></div><div align="justify" style="min-height: 173pt;"><img src="nosql数据库中之redis数据库_files/Image [46].png" type="image/png" alt="graphic" border="0" height="231" style="height: auto;" width="546"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">rpop</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">从尾部删除链表中的元素，返回删除的元素</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">lindex</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">返回指定位置的元素</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">lindex key</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">位置</span></font></div><div align="justify" style="min-height: 153pt;"><img src="nosql数据库中之redis数据库_files/Image [47].png" type="image/png" alt="graphic" border="0" height="205" style="height: auto;" width="479"/></div><div align="justify" style="min-height: 15pt;"><div><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">llen</span></font></div><div>相当于lsize</div></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">返回链表中元素的个数</span></font></div><div align="justify" style="min-height: 112pt;"><img src="nosql数据库中之redis数据库_files/Image [48].png" type="image/png" alt="graphic" border="0" height="150" style="height: auto;" width="475"/></div><h2 align="justify"><font color="#010101" face="Cambria" size="4"><span style="font-size:16pt"><b>4</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:16pt"><b>、</b></span></font><font color="#010101" face="Cambria" size="4"><span style="font-size:16pt"><b>set</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:16pt"><b>（集合）类型</b></span></font></h2><div align="justify" style="min-height: 16pt;"><font color="#333333" face="Arial"><span style="font-size:12pt">set</span></font><font color="#333333" face="宋体"><span style="font-size:12pt">是集合，和我们数学中的集合概念相似，对集合的操作有添加删除元素，有对多个集合求交并差等操作。操作中</span></font><font color="#333333" face="Arial"><span style="font-size:12pt">key</span></font><font color="#333333" face="宋体"><span style="font-size:12pt">理解为集合的名字。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">sadd</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">向集合里面添加元素</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">sadd  key(</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">集合的名称</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">) </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">元素</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">1 </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">元素</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">2</span></font></div><div align="justify" style="min-height: 108pt;"><img src="nosql数据库中之redis数据库_files/Image [49].png" type="image/png" alt="graphic" border="0" height="145" style="height: auto;" width="553"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">smembers</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">获取集合里面的元素</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">smembers  key</span></font></div><div align="justify" style="min-height: 213pt;"><img src="nosql数据库中之redis数据库_files/Image [50].png" type="image/png" alt="graphic" border="0" height="285" style="height: auto;" width="552"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">srem</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">删除集合里面指定元素</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">srem key </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">指定的元素</span></font></div><div align="justify" style="min-height: 236pt;"><img src="nosql数据库中之redis数据库_files/Image [51].png" type="image/png" alt="graphic" border="0" height="315" style="height: auto;" width="510"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">spop</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">随机删除集合里面某个元素，返回该元素</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">spop key</span></font></div><div align="justify" style="min-height: 175pt;"><img src="nosql数据库中之redis数据库_files/Image [52].png" type="image/png" alt="graphic" border="0" height="234" style="height: auto;" width="445"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">sdiff</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">求集合里面的差集，第一个集合里面不存在于另外集合里面的元素。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">sdiff</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">集合</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">1    </span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">集合</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">2 </span></font></div><div align="justify" style="min-height: 129pt;"><img src="nosql数据库中之redis数据库_files/Image [53].png" type="image/png" alt="graphic" border="0" height="172" style="height: auto;" width="553"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">sdiffstore</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">求集合里面的差集即（第一个集合里面不存在于另外集合里面的元素）并保存到新的集合里面。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">sdiffstore</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">新的集合集合</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">1  </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">集合</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">2</span></font></div><div align="justify" style="min-height: 83pt;"><img src="nosql数据库中之redis数据库_files/Image [54].png" type="image/png" alt="graphic" border="0" height="111" style="height: auto;" width="554"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">sinter</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">返回集合交集，即在集合</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">1</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">和集合</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">2</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">都存在的元素。</span></font></div><div align="justify" style="min-height: 151pt;"><img src="nosql数据库中之redis数据库_files/Image [55].png" type="image/png" alt="graphic" border="0" height="202" style="height: auto;" width="472"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">sinterstore</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">返回集合交集，即在集合</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">1</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">和集合</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">2</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">都存在的元素。取出交集并存储到新的集合。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">sunion</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">返回集合的并集，即多个集合里面的全部元素</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">sunion key1 key2</span></font></div><div align="justify" style="min-height: 250pt;"><img src="nosql数据库中之redis数据库_files/Image [56].png" type="image/png" alt="graphic" border="0" height="334" style="height: auto;" width="494"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">sunionstore</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">求得并集并存储到新的集合</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">smove</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">把元素从第一个集合里面移动到另外的集合里面</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">smove  key1  key2 </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">移动的元素</span></font></div><div align="justify" style="min-height: 312pt;"><img src="nosql数据库中之redis数据库_files/Image [57].png" type="image/png" alt="graphic" border="0" height="417" style="height: auto;" width="552"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">scard</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">返回集合中元素的个数</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">scard key</span></font></div><div align="justify" style="min-height: 207pt;"><img src="nosql数据库中之redis数据库_files/Image [58].png" type="image/png" alt="graphic" border="0" height="276" style="height: auto;" width="432"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">sismember</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">检测某个元素是否在集合中</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">sismember key </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">元素</span></font></div><div align="justify" style="min-height: 141pt;"><img src="nosql数据库中之redis数据库_files/Image [59].png" type="image/png" alt="graphic" border="0" height="188" style="height: auto;" width="531"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">srandmember</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">随机返回集合里面的某个元素，但是并不是删除。</span></font></div><div align="justify" style="min-height: 174pt;"><img src="nosql数据库中之redis数据库_files/Image [60].png" type="image/png" alt="graphic" border="0" height="233" style="height: auto;" width="517"/></div><h2 align="justify"><font color="#010101" face="Cambria" size="4"><span style="font-size:16pt"><b>5</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:16pt"><b>、</b></span></font><font color="#010101" face="Cambria" size="4"><span style="font-size:16pt"><b>sorted sets</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:16pt"><b>类型及操作-Zset有序</b></span></font></h2><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">sorted set</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">是</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">set</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的一个升级版本，他在</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">set</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的基础上增加了一个顺序属性，这一属性在添加修改元素的时候可以指定，每次指定后，</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">zset</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">会自动重新按新的值调整顺序。可以理解为有两列的</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">mysql</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">表，一列存</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">value,</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">一列存顺序。操作中的</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">key</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">理解为</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">zset</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的名字</span></font></div><div align="justify" style="min-height: 238pt;"><img src="nosql数据库中之redis数据库_files/Image [61].png" type="image/png" alt="graphic" border="0" height="318" style="height: auto;" width="295"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">zadd</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">向有序集合里面添加元素</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">zadd key(</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">有序集合名称</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">)  score1 </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">元素</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">1  score2 </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">元素</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">2……</span></font></div><div align="justify" style="min-height: 48pt;"><img src="nosql数据库中之redis数据库_files/Image [62].png" type="image/png" alt="graphic" border="0" height="64" style="height: auto;" width="552"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">zrange</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">查看集合里面的内容</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">,</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">按照元素的序号，升序来显示的。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">zrange  key </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">开始下标结束下标</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">  [withscores]</span></font></div><div align="justify" style="min-height: 189pt;"><img src="nosql数据库中之redis数据库_files/Image [63].png" type="image/png" alt="graphic" border="0" height="252" style="height: auto;" width="554"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">zrem</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">删除集合中指定的元素</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">zrem key</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">指定的元素</span></font></div><div align="justify" style="min-height: 174pt;"><img src="nosql数据库中之redis数据库_files/Image [64].png" type="image/png" alt="graphic" border="0" height="233" style="height: auto;" width="504"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">zrank</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">在集合中，返回指定元素的下标。（安装元素的序号升序）</span></font></div><div align="justify" style="min-height: 126pt;"><img src="nosql数据库中之redis数据库_files/Image [65].png" type="image/png" alt="graphic" border="0" height="169" style="height: auto;" width="513"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">zrevrank</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">在集合中，返回指定元素的下标。（按照元素的序号降序）</span></font></div><div align="justify" style="min-height: 139pt;"><img src="nosql数据库中之redis数据库_files/Image [66].png" type="image/png" alt="graphic" border="0" height="186" style="height: auto;" width="553"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">zrevrange</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">查看集合里面的内容</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">,</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">按照元素的序号，降来显示的。</span></font></div><div align="justify" style="min-height: 186pt;"><img src="nosql数据库中之redis数据库_files/Image [67].png" type="image/png" alt="graphic" border="0" height="249" style="height: auto;" width="552"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">zrangebyscore</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">返回集合中，根据序号的范围返回元素。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">zrangebyscore  key </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">开始序号结束序号</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">比如：返回序号在</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">6</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">到</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">12</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的范围内的元素</span></font></div><div align="justify" style="min-height: 234pt;"><img src="nosql数据库中之redis数据库_files/Image [68].png" type="image/png" alt="graphic" border="0" height="312" style="height: auto;" width="552"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">zcount</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">返回集合中，指定序号范围内的元素的个数</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">比如返回序号</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">6</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">到</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">12</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的元素的个数。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">zcount key </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">开始序号结束序号</span></font></div><div align="justify" style="min-height: 118pt;"><img src="nosql数据库中之redis数据库_files/Image [69].png" type="image/png" alt="graphic" border="0" height="158" style="height: auto;" width="548"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">zcard</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">返回集合中元素的个数</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">zcard key</span></font></div><div align="justify" style="min-height: 123pt;"><img src="nosql数据库中之redis数据库_files/Image [70].png" type="image/png" alt="graphic" border="0" height="165" width="473"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">zremrangebyrank</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">删除集合中，指定下标范围内容的元素。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">zremrangebyrank  key </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">开始下标结束下标</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">比如删除下标范围</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">0</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">到</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">1</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的元素。</span></font></div><div align="justify" style="min-height: 189pt;"><img src="nosql数据库中之redis数据库_files/Image [71].png" type="image/png" alt="graphic" border="0" height="253" style="height: auto;" width="548"/></div><div align="justify" style="min-height: 103pt;"><img src="nosql数据库中之redis数据库_files/Image [72].png" type="image/png" alt="graphic" border="0" height="138" style="height: auto;" width="551"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">zremrangebyscore</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">删除集合中，指定序号范围内的元素。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">zremrangebyscore key</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">开始序号结束序号</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">比如删除序号</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">4</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">到</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">10</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的元素</span></font></div><div align="justify" style="min-height: 288pt;"><img src="nosql数据库中之redis数据库_files/Image [73].png" type="image/png" alt="graphic" border="0" height="385" style="height: auto;" width="552"/></div><h1 align="justify"><font color="#010101" face="宋体" size="5"><span style="font-size:22pt"><b>五、</b></span></font><font color="#010101" face="Calibri" size="5"><span style="font-size:22pt"><b>redis</b></span></font><font color="#010101" face="宋体" size="5"><span style="font-size:22pt"><b>的其他命令</b></span></font></h1><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">keys</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">查看当前数据库下面的键，一般要结合通配符使用。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">比如查看当前数据下面的所有键使用</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">keys   *</span></font></div><div align="justify" style="min-height: 122pt;"><img src="nosql数据库中之redis数据库_files/Image [74].png" type="image/png" alt="graphic" border="0" height="163" style="height: auto;" width="400"/></div><div align="justify" style="min-height: 107pt;"><img src="nosql数据库中之redis数据库_files/Image [75].png" type="image/png" alt="graphic" border="0" height="143" style="height: auto;" width="479"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">exists</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">查看某个键是否在当前数据里面。</span></font></div><div align="justify" style="min-height: 175pt;"><img src="nosql数据库中之redis数据库_files/Image [76].png" type="image/png" alt="graphic" border="0" height="234" style="height: auto;" width="406"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">del</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">删除当前数据库下面的指定键</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">del key1 key2 key3</span></font></div><div align="justify" style="min-height: 235pt;"><img src="nosql数据库中之redis数据库_files/Image [77].png" type="image/png" alt="graphic" border="0" height="314" style="height: auto;" width="428"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">expire</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">给一个键设置有效期，单位是秒</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">expire key</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">秒数</span></font></div><div align="justify" style="min-height: 189pt;"><img src="nosql数据库中之redis数据库_files/Image [78].png" type="image/png" alt="graphic" border="0" height="252" style="height: auto;" width="499"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">select</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">选择数据库，在</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">redis</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">里面默认有</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">16</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">个数据库，编号是从</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">0</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">到</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">15</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">，默认是在</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">0</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">号数据库里面。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">:select </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">数据库编号</span></font></div><div align="justify" style="min-height: 190pt;"><img src="nosql数据库中之redis数据库_files/Image [79].png" type="image/png" alt="graphic" border="0" height="254" style="height: auto;" width="424"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">move</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">将当前数据库中的</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">key</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">转移到其他数据库中。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">move key </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">数据库编号</span></font></div><div align="justify" style="min-height: 201pt;"><img src="nosql数据库中之redis数据库_files/Image [80].png" type="image/png" alt="graphic" border="0" height="268" style="height: auto;" width="486"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">persist key</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">把</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">key</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的有效期设置为永久有效，和</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">expire</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">命令对应。</span></font></div><div align="justify" style="min-height: 130pt;"><img src="nosql数据库中之redis数据库_files/Image [81].png" type="image/png" alt="graphic" border="0" height="174" style="height: auto;" width="546"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">randomkey</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">随机返回一个键</span></font></div><div align="justify" style="min-height: 186pt;"><img src="nosql数据库中之redis数据库_files/Image [82].png" type="image/png" alt="graphic" border="0" height="248" style="height: auto;" width="401"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">type</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">返回键的数据类型。</span></font></div><div align="justify" style="min-height: 222pt;"><img src="nosql数据库中之redis数据库_files/Image [83].png" type="image/png" alt="graphic" border="0" height="296" style="height: auto;" width="431"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">dbsize</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">返回当前数据库键的个数</span></font></div><div align="justify" style="min-height: 126pt;"><img src="nosql数据库中之redis数据库_files/Image [84].png" type="image/png" alt="graphic" border="0" height="169" style="height: auto;" width="429"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">info</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">查看</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">redis</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">服务器的一些信息：</span></font></div><div align="justify" style="min-height: 186pt;"><img src="nosql数据库中之redis数据库_files/Image [85].png" type="image/png" alt="graphic" border="0" height="248" style="height: auto;" width="549"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">flushdb</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">删除当前选择数据库中的所有</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">key</span></font></div><div align="justify" style="min-height: 160pt;"><img src="nosql数据库中之redis数据库_files/Image [86].png" type="image/png" alt="graphic" border="0" height="214" style="height: auto;" width="373"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">flushall</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">删除所有数据库中的所有</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">key</span></font></div><div align="justify" style="min-height: 224pt;"><img src="nosql数据库中之redis数据库_files/Image [87].png" type="image/png" alt="graphic" border="0" height="299" style="height: auto;" width="423"/></div><h1 align="justify"><font color="#010101" face="宋体" size="5"><span style="font-size:22pt"><b>六、</b></span></font><font color="#010101" face="Calibri" size="5"><span style="font-size:22pt"><b>redis</b></span></font><font color="#010101" face="宋体" size="5"><span style="font-size:22pt"><b>安全性（客户端连接验证）</b></span></font></h1><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">（</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">1</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）通过修改配置文件进行设置密码</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">vi  redis.conf</span></font></div><div align="justify" style="min-height: 37pt;"><img src="nosql数据库中之redis数据库_files/Image [88].png" type="image/png" alt="graphic" border="0" height="50" style="height: auto;" width="452"/></div><div style="border-style: solid; border-width: 1px; position: relative; z-index: 1; left: 395px; width: 185px;"><div align="justify" style="min-height: 14pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">设置登录服务器端的密码</span></font></div></div><div align="justify" style="min-height: 84pt;"><hr align="left"/><img src="nosql数据库中之redis数据库_files/Image [89].png" type="image/png" alt="graphic" border="0" height="113" style="height: auto;" width="538"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">设置完成后，要重启启动</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">redis</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">服务。</span></font></div><div align="justify" style="min-height: 87pt;"><img src="nosql数据库中之redis数据库_files/Image [90].png" type="image/png" alt="graphic" border="0" height="117" style="height: auto;" width="546"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">（</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">2</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）客户端连接</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">redis</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">时需要验证，</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">验证方式有两种：</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">第一种：在连接客户端时，使用</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">-a</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">选项来完成连接</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：</span></font> <font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">/usr/local/redis/bin/redis-cli  -a </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">密码</span></font></div><div align="justify" style="min-height: 146pt;"><img src="nosql数据库中之redis数据库_files/Image [91].png" type="image/png" alt="graphic" border="0" height="195" style="height: auto;" width="549"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">第二种：通过客户端登录后，使用</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">auth</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">密码进行验证。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">登录后，如果没有经过验证，则会出现如下的提示；</span></font></div><div align="justify" style="min-height: 123pt;"><img src="nosql数据库中之redis数据库_files/Image [92].png" type="image/png" alt="graphic" border="0" height="165" style="height: auto;" width="504"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">语法：在客户端登陆后：输入</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">    auth </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">密码</span></font></div><div align="justify" style="min-height: 187pt;"><img src="nosql数据库中之redis数据库_files/Image [93].png" type="image/png" alt="graphic" border="0" height="250" style="height: auto;" width="539"/></div><h1 align="justify"><font color="#010101" face="宋体" size="5"><span style="font-size:22pt"><b>七、</b></span></font><font color="#010101" face="Calibri" size="5"><span style="font-size:22pt"><b>redis</b></span></font><font color="#010101" face="宋体" size="5"><span style="font-size:22pt"><b>持久化机制</b></span></font></h1><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">redis</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">是一个支持持久化的内存数据库，也就是说</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">redis</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">需要经常将内存中的数据同步到硬盘来保证持久化，这样服务器断电、或重启系统服务器，数据还会从硬盘里边恢复到内存里。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">redis</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">支持两种持久化方式：</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">（</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">1</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">snapshotting(</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">快照</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">)</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">默认方式</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">（</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">2</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">append-only file(</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">缩写</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">aof)</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的方式</span></font></div><h2 align="justify"><font color="#010101" face="Cambria" size="4"><span style="font-size:16pt"><b>1</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:16pt"><b>、</b></span></font><font color="#010101" face="Cambria" size="4"><span style="font-size:16pt"><b>snapshotting(</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:16pt"><b>快照</b></span></font><font color="#010101" face="Cambria" size="4"><span style="font-size:16pt"><b>)</b></span></font></h2><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">         </span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">快照是默认的持久化方式。这种方式是将内存中数据以快照的方式写入到二进制文件中，默认的文件名为</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">dump.rdb.</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">快照是默认的持久化方式。这种方式是将内存中数据以快照的方式写入到二进制文件中，默认的文件名为</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">dump.rdb.</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">可以通过配置设置自动做快照持久化的方式。我们可以配置</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">redis</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">在</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">n</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">秒内如果超过</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">m</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">个</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">key</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">修改就自动做快照</span></font></div><div align="justify" style="min-height: 59pt;"><img src="nosql数据库中之redis数据库_files/Image [94].png" type="image/png" alt="graphic" border="0" height="79" style="height: auto;" width="552"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"><b>save 900 1   </b></span> <span style="font-size:10pt">#</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">刷新快照到硬盘中，必须满足两者要求才会触发，即</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">900</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">秒之后至少</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">1</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">个关键字发生变化。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"><b>save 300 10 </b></span> <span style="font-size:10pt">#</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">必须是</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">300</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">秒之后至少</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">10</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">个关键字发生变化。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"><b>save 60 10000</b></span> <span style="font-size:10pt">#</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">必须是</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">60</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">秒之后至少</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">10000</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">个关键字发生变化。（以上</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">3</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">个选项都屏蔽，则</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">rdb</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">禁用）</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"><b>stop-writes-on-bgsave-error yes   </b></span> <span style="font-size:10pt">#</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">后台存储错误停止写。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"><b>rdbcompression yes   </b></span> <span style="font-size:10pt">#</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">使用</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">LZF</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">压缩</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">rdb</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">文件。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"><b>rdbchecksum yes   </b></span> <span style="font-size:10pt">#</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">存储和加载</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">rdb</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">文件时校验。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"><b>dbfilename dump.rdb</b></span><span style="font-size:10pt">    #</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">设置</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">rdb</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">文件名。</span></font></div><div align="justify" style="min-height: 15pt;"><div><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"><b>dir ./   </b></span> <span style="font-size:10pt">#</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">设置工作目录，</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">rdb</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">文件会写入该目录。</span></font></div><div><span style="font-size: 16px;"><b><font color="#010101" face="宋体">bgsave 手动保存</font></b></span></div></div><h2 align="justify"><font color="#010101" face="Cambria" size="4"><span style="font-size:16pt"><b>2</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:16pt"><b>、持久化机制之</b></span></font><font color="#010101" face="Cambria" size="4"><span style="font-size:16pt"><b>aof</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:16pt"><b>方式</b></span></font></h2><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">aof</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">比快照方式有更好的持久化性，是由于在使用</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">aof</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">时，</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">redis</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">会将每一个收到的写命令都通过</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">write</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">函数追加到文件中，当</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">redis</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">重启时会通过重新执行文件中保存的写命令来在内存中重建整个数据库的内容。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">（</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">1</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）如何开启：</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">打开配置文件：</span></font></div><div align="justify" style="min-height: 15pt;"><div><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">appendonly yes         //</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">启用</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">aof</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">持久化方式，</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">默认为</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">no</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">，改为</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">yes,</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">开启</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">aof</span></font></div></div><div align="justify" style="min-height: 15pt;"><div><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">appendfilename appendonly.aof   //</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">保存命令的文件，</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">指定</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">aof</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">文件的保存</span></font></div><div><img src="nosql数据库中之redis数据库_files/Image [95].png" type="image/png" alt="graphic" border="0" height="121" style="height: auto;" width="549"/></div></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"># appendfsync always   //</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">每次收到写命令就立即强制写入磁盘，最慢的，但是保证完全的持久化，不推荐使用。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#FF0000" face="Calibri" size="2"><span style="font-size:10pt"><b>appendfsync everysec   //</b></span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt"><b>每秒钟强制写入磁盘一次，在性能和持久化方面做了很好的折中，</b></span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">推荐</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"># appendfsync no   //</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">完全依赖</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">os</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">，性能最好</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">,</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">持久化没保证</span></font></div><div align="justify" style="min-height: 69pt;"><img src="nosql数据库中之redis数据库_files/Image [96].png" type="image/png" alt="graphic" border="0" height="93" style="height: auto;" width="455"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">（</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">2</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">aof</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">文件的重写</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">ao f</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">文件的重新，就是把文件中内容，逆化成命令存储。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">比如：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">10</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">次</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">incr age </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">转成</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">   set age 14 </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">一条命令</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">可以执行手动重写：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">bgrewriteaof</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">重写前：</span></font></div><div align="justify" style="min-height: 78pt;"><img src="nosql数据库中之redis数据库_files/Image [97].png" type="image/png" alt="graphic" border="0" height="105" style="height: auto;" width="548"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">执行重写后：</span></font></div><div align="justify" style="min-height: 54pt;"><img src="nosql数据库中之redis数据库_files/Image [98].png" type="image/png" alt="graphic" border="0" height="72" style="height: auto;" width="549"/></div><div align="justify" style="min-height: 86pt;"><img src="nosql数据库中之redis数据库_files/Image [99].png" type="image/png" alt="graphic" border="0" height="115" style="height: auto;" width="547"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">查看</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">aof</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">文件内容：</span></font></div><div align="justify" style="min-height: 306pt;"><img src="nosql数据库中之redis数据库_files/Image [100].png" type="image/png" alt="graphic" border="0" height="408" style="height: auto;" width="552"/></div></div><div><br/></div><div align="justify" style="font-weight: bold; font-size: 26px;"><font color="#010101" face="宋体" size="5"><span style="font-size:22pt"><b>八、</b></span></font><font color="#010101" face="Calibri" size="5"><span style="font-size:22pt"><b>php</b></span></font><font color="#010101" face="宋体" size="5"><span style="font-size:22pt"><b>操作</b></span></font><font color="#010101" face="Calibri" size="5"><span style="font-size:22pt"><b>redis</b></span></font></div><div><div align="justify" style="min-height: 15pt;"><div>如果php远程无法连接redis，则有3个解决方法<a href="http://blog.csdn.net/xiayuzhihou/article/details/53106409">http://blog.csdn.net/xiayuzhihou/article/details/53106409</a></div><div align="left" style="margin-left:4mm; margin-right:0mm; text-indent:0mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 12pt;"><div><font color="#004080" face="微软雅黑" size="2"><span style="font-size:10pt">Fatal error: Uncaught exception 'RedisException' with message 'Redis server went away'</span></font></div><div><span style="color: rgb(0, 64, 128);">1、</span><span style="color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); display: inline !important; float: none;">redis bind 设置为127.0.0.1 即只允许本机访问。 修改redis.conf 默认配置文件 bind 0.0.0.0 </span></div><div><span style="color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); display: inline !important; float: none;">2：selinux ，</span> <span style="color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); display: inline !important; float: none;">setenforce 0 临时关闭current mode。</span> <span style="color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); display: inline !important; float: none;">3.修改或关闭</span><a href="http://lib.csdn.net/base/linux" style="color: rgb(223, 52, 52); text-decoration: none; font-family: 微软雅黑; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); font-weight: bold;" target="_blank" title="Linux知识库">Linux</a><span style="color: rgb(51, 51, 51); font-family: 微软雅黑; font-size: 14px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); display: inline !important; float: none;"> 防火墙</span></div></div><div><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">1</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">、安装</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">redis</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">扩展，</span></font></div></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">（</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">1</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）查看</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">php</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的版本和</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">vc</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">几编译的，是</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">TS</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的还是</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">NTS</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的。</span></font></div><div align="justify" style="min-height: 178pt;"><img src="nosql数据库中之redis数据库_files/Image [101].png" type="image/png" alt="graphic" border="0" height="238" style="height: auto;" width="549"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">（</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">2</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）准备和</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">php</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">版本对应扩展文件，</span></font></div><div align="justify" style="min-height: 228pt;"><img src="nosql数据库中之redis数据库_files/Image [102].png" type="image/png" alt="graphic" border="0" height="304" width="553"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">注意：在</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">5.4</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">系列是有两个扩展文件的，</span></font></div><div align="justify" style="min-height: 129pt;"><img src="nosql数据库中之redis数据库_files/Image [103].png" type="image/png" alt="graphic" border="0" height="172" style="height: auto;" width="550"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">（</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">3</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）把对应的扩展文件拷贝到</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">php</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的安装目录下面的</span></font> <font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">ext</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">目录里面。</span></font></div><div align="justify" style="min-height: 248pt;"><img src="nosql数据库中之redis数据库_files/Image [104].png" type="image/png" alt="graphic" border="0" height="331" style="height: auto;" width="554"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">（</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">4</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）打开</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">php.ini</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">文件，引入扩展。</span></font></div><div align="justify" style="min-height: 160pt;"><img src="nosql数据库中之redis数据库_files/Image [105].png" type="image/png" alt="graphic" border="0" height="214" style="height: auto;" width="553"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">重新启动</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">apache</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">服务器即可。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">注意：如果</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">php</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的版本是</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">5.4</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">系列的，要拷贝两个扩展文件，在</span></font> <font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">php.ini</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">文件中引入时，是有顺序的。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">注意：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">extension=php_igbinary.dll</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">一定要放在</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">extension=php_redis.dll</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的前面，否则此扩展不会生效。</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">（</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">5</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）测试是否安装成功，可以通过</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">phpinfo</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">函数。</span></font></div><div align="justify" style="min-height: 123pt;"><img src="nosql数据库中之redis数据库_files/Image [106].png" type="image/png" alt="graphic" border="0" height="165" style="height: auto;" width="552"/></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">2</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">、使用</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">php</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">操作</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">redis</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">$redis = new Redis();//</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">实例化一个对象</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">$redis-&gt;connect(ip</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">地址</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">,</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">端口</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">);//</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">连接服务器</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">$redis-&gt;auth();//</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">输入验证密码</span></font></div><div align="justify" style="min-height: 119pt;"><img src="nosql数据库中之redis数据库_files/Image [107].png" type="image/png" alt="graphic" border="0" height="159" style="height: auto;" width="464"/></div><div align="justify" style="min-height: 57pt;"><img src="nosql数据库中之redis数据库_files/Image [108].png" type="image/png" alt="graphic" border="0" height="77" style="height: auto;" width="434"/></div><h1 align="justify"><font color="#010101" face="宋体" size="5"><span style="font-size:22pt"><b>九、高级案例：</b></span></font></h1><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">用户的注册</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">用户的登录</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">用户的列表（分页显示，删除，修改的功能）</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">用户添加关注，</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">用户的注册</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">如何存储用户的信息，</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">姓名年龄密码</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">     email</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">xiaogang    12     12345   xiaogang@sohu.com</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">构造哈希的键：</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">注册的第一个用户的键：</span></font> <font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">user:id:001   </span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">存储用户信息：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">$redis-&gt;hmset('user:id:001',array('id'=&gt;001,'username'=&gt;$username))</span></font></div><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">注册的第二个用户的键：</span></font> <font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">user:id:002   </span></font></div><div align="justify" style="min-height: 15pt;"><div><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">存储用户信息：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">$redis-&gt;hmset('user:id:002',array('id'=&gt;002,'username'=&gt;$username))</span></font></div></div></div></span>
</div></body></html> 