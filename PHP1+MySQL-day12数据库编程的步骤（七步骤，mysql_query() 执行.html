<html>
<head>
  <title>PHP1+MySQL-day12数据库编程的步骤（七步骤，mysql_query() 执行语句，处理语句）</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/303788 (zh-CN, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1273"/>
<h1>PHP1+MySQL-day12数据库编程的步骤（七步骤，mysql_query() 执行语句，处理语句）</h1>

<div>
<span><div><b><font color="#010101" face="Calibri" size="4"><span style="font-size:16pt"><b>PHP1+MySQL-day12</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:16pt">数据库编程的步骤（七步骤，</span></font></b><span style="font-size: 16px;"><b><font face="Calibri">mysql_query()</font></b></span> 执行语句，处理语句<b><font color="#010101" face="宋体" size="4"><span style="font-size:16pt">）</span></font></b></div><div><span style="font-size: 16px;"><b>第一剑：PHP连接MySQL服务器</b></span></div><div style="margin-left:40px;">语法：resource mysql_connect ([ string $server [, string $username [, string $password ]]] )</div><div style="margin-left:40px;">     例：$link=@mysql_connect(&quot;localhost&quot;,&quot;root&quot;,&quot;$zpass&quot;);   //echo $link: Resource id #3</div><div style="margin-left:40px;">提示：@不能用在函数定义前，也不能用在类定义前，也不能用在结构语法前(for、while、foreach、if)</div><ul><li><b>mysql_error():</b>返回上一个 MySQL 操作产生的文本错误信息</li></ul><div><span style="font-size: 16px;"><b>第二剑：选择自己的数据库</b></span></div><div style="margin-left:40px;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">语法：</span></font><font color="#0000FF" face="Calibri" size="2"><span style="font-size:10pt">bool mysql_select_db ( string $database_name [, resource $link ] )</span></font></div><div style="margin-left:40px;"><font face="΢���ź�" size="1"><span style="font-size:9pt">$rdb = mysql_select_db(DBNAME);或</span></font><font face="΢���ź�" size="1"><span style="font-size:9pt">$rdb = mysql_query('use '.DBNAME);   echo $rdb;//1或0</span></font></div><div><b><span style="font-size: 16px;"><font color="#010101" face="宋体"><span style="font-family: ����; color: rgb(1, 1, 1); font-weight: normal; font-style: normal;"><b>第三剑：设置请求或返回数据的字符集</b></span></font></span></b></div><div style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>    define('ZHOST','localhost');</div><div>    define('ZUSER','root');</div><div>    $zpass='123456';</div><div>    $db_name='whereit';</div><div>    ($link=@mysql_connect(ZHOST,ZUSER,$zpass))or exit('数据库'.ZHOST.'连接失败');</div><div>    mysql_select_db($db_name)or exit('数据库'.$db_name.'选择失败');</div><div>    <b><span style="color: rgb(255, 0, 0);">mysql_query('set names utf8');</span></b></div></div></div><div><span style="font-size: 16px;"><b>第四剑：编写各种的SQL语句。</b></span></div><ul><li>插入数据：INSERT INTO table_name(字段列表) VALUES(值的列表)</li><li>更新数据：UPDATE student SET hits = hits+1 WHERE id=5</li><li>删除数据：DELETE FROM student WHERE id=5</li><li>查询数据：SELECT * FROM student WHERE id&gt;(SELECT id FROM student WHERE id=5)</li><li>创建数据表：CREATE TABLE student(id int not null) CHARSET utf8 ENGINE myisam</li></ul><div align="justify"><span style="font-size: 16px;"><b>第五剑： <font face="宋体">执行</font><font face="Calibri">SQL</font><font face="宋体">语句：</font><font face="Calibri">mysql_query()</font></b></span></div><div><ul style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;list-style-type: disc;"><li style="display:inline;list-style:none;"><ul style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;list-style-type: disc;"><li style="display:inline;list-style:none;"><ul style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;list-style-type: disc;"><li style="display:inline;list-style:none;"><ul><li>描述：发送一条 MySQL 查询</li><li>语法：resource mysql_query ( string $query [, resource $link = NULL ] )</li><li>参数：<b>$query</b>，执行的各种SQL语句。
<ul><li>插入的SQL语句：$sql = “INSERT INTO news(title,content) VALUES(‘标题’ , ‘内容’)”</li><li>删除的SQL语句：$sql = “DELETE FROM news WHERE id=5”</li><li>更新的SQL语句：$sql = “UPDATE news SET title = ‘新标题’ , content = ‘新内容’ WHERE id=5”</li><li>查询的SQL语句：$sql = “SELECT * FROM news ORDER BY id DESC LIMIT 10,20”</li></ul></li><li style="list-style-type: none;"><b><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt; font-family:Calibri; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal"><b>$link</b></span></font></b><font color="#010101" face="宋体" size="2"><span style="font-size:10pt"><b>可选</b>。如果省略，则认为是上一个打开的活动链接。</span></font></li><li style="list-style-type: none;"><b><font color="#010101" face="����"><span style="font-size:11pt">执行：<span style="color: rgb(255, 0, 0);">$result</span>=<span style="color: rgb(255, 0, 0);">mysql_query(</span>$sql<span style="color: rgb(255, 0, 0);">);</span></span></font></b>返回值：</li></ul></li></ul></li></ul></li></ul></div><ul><li style="display:inline;list-style:none;"><ul><li style="display:inline;list-style:none;"><ul><li>如果执行的是select、show、describe命令，成功返回资源(结果集)，失败返回FALSE；</li><li>如果执行其它（增删改）的SQL语句，成功返回TRUE，失败返回FALSE。</li></ul></li></ul></li></ul><div align="justify"><span style="font-size: 16px;"><b><font color="#010101" face="����">第六剑：</font> <span style="color: rgb(1, 1, 1); font-family: ����; font-style: normal; font-variant: normal; font-weight: normal; letter-spacing: normal; orphans: auto; text-align: -webkit-left; text-indent: 0px; text-transform: none; white-space: normal; widows: auto; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); float: none; display: inline !important;"><b>处理结果集</b></span></b></span></div><div align="justify" style="min-height: 19pt;"><div style="margin-left:40px;"><font color="#010101" face="Calibri" size="4"><span style="font-size:14pt"><b>1</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:14pt"><b>、</b></span></font><font color="#010101" face="Calibri" size="4"><span style="font-size:14pt"><b>mysql_fetch_row()，执行完一句指针自动下移，非法区域，FALSE</b></span></font></div><div style="margin-left:40px;"><div align="justify" style="min-height: 14pt;"><div><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">返回一个枚举数组</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">(</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">整型下标</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">)</span></font></div></div></div></div><ul><li style="display:inline;list-style:none;"><ul><li>描述：从结果集中取得<b>一行</b>作为枚举数组</li><li>语法：array mysql_fetch_row ( resource $result )</li><li>参数：$result，结果集变量。是由mysql_query()执行的SELECT语句得到的。</li><li>返回：返回一个枚举数组(整型下标)。$row = mysql_fetch_row($result);</li></ul></li></ul><div align="left" style="min-height: 12pt;"><div><font color="#010101" face="Calibri" size="4"><span style="font-size:14pt"><b>          2、mysql_fetch_assoc()</b></span></font></div></div><ul><li style="display:inline;list-style:none;"><ul><li><div align="left" style="min-height: 12pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">描述：从结果集中取得一行作为</span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">关联</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">数组</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">(</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">字符串下标</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">)</span></font></div></li></ul></li></ul><div style="margin-left:40px;"><font color="#010101" face="Calibri" size="4"><span style="font-size:14pt"><b>3</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:14pt"><b>、</b></span></font><font color="#010101" face="Calibri" size="4"><span style="font-size:14pt"><b>mysql_fetch_array()</b></span></font></div><div style="margin-left:40px;"><div align="justify" style="min-height: 13pt;"><ul><li>从结果集中取得一行作为关联数组，或数字数组，或二者兼有
<ul><li>MYSQL_BOTH(默认)：既有整型下标(相当于fetch_row)，也有字符串下标(字段名)</li><li>MYSQL_NUM：只有整型下标，与mysql_fetch_row()效果一样。</li><li>MYSQL_ASSOC；只有字符串下标(字段名)，与mysql_fetch_assoc()效果一样。</li></ul></li></ul></div></div><div><div align="justify" style="min-height: 17pt;margin-left:40px;"><div><font color="#010101" face="Calibri" size="4"><span style="font-size:14pt"><b>4、mysql_num_rows()</b></span></font></div></div><ul style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;list-style-type: disc;"><li style="display:inline;list-style:none;"><ul><li style="display:inline;list-style:none;"><ul><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 13pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">描述：取得结果集中行的数目</span></font></div></li><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 14pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">语法：</span></font><font color="#0000FF" face="Calibri" size="2"><span style="font-size:10pt"><b>int mysql_num_rows ( resource $result )</b></span></font></div></li></ul></li></ul></li></ul></div><div align="left" style="min-height: 12pt;"><div align="left" style="min-height: 12pt;"><div style="margin-left:80px;"><font face="΢���ź�" size="1"><span style="font-size:9pt">例：$rows = mysql_num_rows($result);或</span></font><font face="΢���ź�" size="1"><span style="font-size:9pt">$sql = &quot;SELECT count(*) FROM student&quot;;</span></font></div></div></div><div><span style="font-size: 16px;"><b><font color="#010101" face="����">第七剑：释放资源---</font></b></span><font color="#010101" face="����"><span style="font-size:11pt"><span style="font-size: 16px;"><b>函数：bool mysql_close($link)</b></span>一般网页关闭时数据库自动断开连接</span></font></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">&lt;?php     //<b><span style="color: rgb(255, 0, 0);">一、</span></b>连接数据库zzztest.php</span></span></span></div><div style="margin-left:40px;"><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">//(0)数据库配置信息</span></span></span></div><div style="margin-left:40px;"><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">$db_host = 'localhost';</span></span></span></div><div style="margin-left:40px;"><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">$db_user = 'root';</span></span></span></div><div style="margin-left:40px;"><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">$db_pwd  = '123456';</span></span></span></div><div style="margin-left:40px;"><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">$db_name = '</span></span></span>whereit<span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">';</span></span></span></div><div style="margin-left:40px;"><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">//(1)PHP连接MySQL服务器</span></span></span></div><div style="margin-left:40px;"><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">$link = @mysql_connect($db_host,$db_user,$db_pwd);</span></span></span></div><div style="margin-left:40px;"><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">if(!$link) exit(&quot;PHP连接MySQL失败了！&quot;);</span></span></span></div><div style="margin-left:40px;"><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">//(2)选择当前数据库</span></span></span></div><div style="margin-left:40px;"><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">if(!mysql_select_db($db_name)) exit(&quot;选择数据库{$db_name}失败了！&quot;);</span></span></span></div><div style="margin-left:40px;"><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">//(3)设置请求或返回数据的字符集</span></span></span></div><div style="margin-left:40px;"><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">mysql_query(&quot;set names utf8&quot;);</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">?&gt;</span></span></span></div></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">&lt;?php     //<span style="color: rgb(255, 0, 0);"><b>二、</b></span>ptest.php代码，表格<span style="color: rgb(255, 0, 0);">显示</span>数据库所有数据记录（<span style="color: rgb(255, 0, 0);">注意php,html,js嵌套</span>）</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">    header(&quot;Content-type:text/html;charset=utf-8&quot;);</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">    require_once(&quot;./zzztest.php&quot;);          //包含连接数据库文件</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">    $sql=&quot;select * from student order by id&quot;;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">    $result=mysql_query($sql);//执行MySQL语句</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">    var_dump($result);                      //resource(4) of type (mysql result)</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">    // $arr=mysql_fetch_assoc($result);     //从结果集中取出一行作为关联数组</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">    echo &quot;&lt;br&gt;&quot;;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">    $sql=&quot;select * from student order by id&quot;;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">    $result=mysql_query($sql);              //4执行MySQL语句</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">    var_dump($result);                      //resource(4) of type (mysql result)</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">    echo &quot;&lt;br&gt;&quot;;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">    while ($arr=mysql_fetch_assoc($result)) {/<span style="color: rgb(255, 0, 0);">/使用定界符&lt;&lt;&lt;很方便</span>，但是注意定界符第一个DING后不能有空格或Tab或其他字符</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">    $str=&lt;&lt;&lt;DING</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">        &lt;table&gt;&lt;tr align='center'&gt;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">        &lt;td&gt;{$arr['id']}&lt;/td&gt;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">        &lt;td&gt;{$arr['name']}&lt;/td&gt;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">        &lt;td&gt;{$arr['sex']}&lt;/td&gt;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">        &lt;td&gt;{$arr['edu']}&lt;/td&gt;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">        &lt;td&gt;{$arr['salary']}&lt;/td&gt;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">        &lt;td&gt;{$arr['bonus']}&lt;/td&gt;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">        &lt;td&gt;{$arr['city']}&lt;/td&gt;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">        &lt;td&gt;&lt;a href=&quot;edit.php?id={$arr['id']}&quot;&gt;修改&lt;/a&gt;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">        &lt;a href=&quot;javascript:void(0)&quot; onClick=&quot;jump({$arr['id']})&quot;&gt;删除&lt;/a&gt;&lt;/td&gt;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">        &lt;/tr&gt;&lt;/table&gt;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">DING;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">    echo $str;//注意要顶格写，且定界符最后一个DING后不能有空格或Tab，必须单独占一行（注意分号;）</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">    }</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">     mysql_close($link);//关闭数据库释放资源（建议添加，节约内存资源）</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">?&gt;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">&lt;script type=&quot;text/javascript&quot;&gt;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">    function jump(id){</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">        if (window.confirm(&quot;你确定要删除吗？&quot;)) {</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">            location.href=&quot;sdel.php?id=&quot;+id;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">        }</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">    }</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">&lt;/script&gt;</span></span></span></div></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>&lt;?php     //<b><span style="color: rgb(255, 0, 0);">三、</span></b>1求得数据库记录行总数2更新数据库记录3删除数据库记录</div><div>    header(&quot;Content-type:text/html;charset=utf-8&quot;);</div><div>    require_once(&quot;./zzztest.php&quot;);</div><div>    $sql=&quot;select * from student order by id&quot;;</div><div>    $result=mysql_query($sql);          //1执行MySQL语句</div><div>    // $records=mysql_num_rows($result);//4取得结果集中行的<span style="color: rgb(255, 0, 0);">总数目</span></div><div>    // echo $records;</div><div>    $id=$_GET['id'];//2获取地址栏传递过来的id值</div><div>    // $sql3=&quot;update student set id=50 where id=$id&quot;;</div><div>    // mysql_query($sql3);             //6执行<span style="color: rgb(255, 0, 0);">更新</span>数据库数据</div><div>    $sql2=&quot;delete from student where id=$id&quot;;</div><div>    if (mysql_query($sql2)) {          //3执行SQL<span style="color: rgb(255, 0, 0);">删除</span>语句</div><div>        echo &quot;&lt;script&gt;window.alert('id={$id}记录已经被删除');location.href='ptest.php'&lt;/script&gt;&quot;;</div><div>        exit();</div><div>    } else {</div><div>        echo &quot;&lt;script&gt;window.alert('id={$id}记录删除失败');location.href='ptest.php'&lt;/script&gt;&quot;;</div><div>        exit();</div><div>    }</div><div>?&gt;</div></div><div><span style="color: rgb(1, 1, 1);"><br/></span></div></span>
</div></body></html> 