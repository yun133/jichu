<html>
<head>
  <title>netstat -tunpl | grep redis-server 显示端口在使用</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/303788 (zh-CN, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="2311"/>
<h1>netstat -tunpl | grep redis-server 显示端口在使用</h1>

<div>
<span><div align="justify" style="margin-left:6mm; margin-right:0mm; text-indent:0mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 14pt;"><div><font color="#1F497D" face="Calibri" size="2"><span style="font-size:10pt">netstat  -tunpl | grep redis-server  </span></font> <font color="#1F497D" face="宋体" size="2"><span style="font-size:10pt">显示端口在使用</span></font></div><div align="justify" style="min-height: 12pt;"><div><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">netstat–tunpl | grep 6379</span></font></div></div></div><div align="justify" style="margin-left:0mm; margin-right:0mm; text-indent:7mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 14pt;"><div><font color="#1F497D" face="宋体" size="2"><span style="font-size:10pt">解决：</span></font><font color="#1F497D" face="Calibri" size="2"><span style="font-size:10pt">ps–aux | grep redis-server</span></font><div align="justify" style="min-height: 12pt;"><div><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">pkill redis-server</span></font></div></div></div></div><div align="justify" style="margin-left:0mm; margin-right:0mm; text-indent:7mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 12pt;"><div><font color="#1F497D" face="Calibri" size="2"><span style="font-size:10pt">Kill -9 9999</span></font></div><div><span style="font-family: Calibri;"><span style="color: rgb(31, 73, 125);">kill -9 1762</span></span></div></div><div align="justify" style="min-height: 12pt;"><div><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">/usr/local/redis/bin/redis-server  /usr/local/redis/redis.conf</span></font></div></div><div>/usr/local/redis/bin/redis-cli</div><div>数据类型</div><div><hr/></div><div><font color="#010101" face="Calibri" size="6"><span style="font-size:24pt"><b>nosql</b></span></font><font color="#010101" face="宋体" size="6"><span style="font-size:24pt"><b>数据库中之</b></span></font><font color="#010101" face="Calibri" size="6"><span style="font-size:24pt"><b>redis</b></span></font><font color="#010101" face="宋体" size="6"><span style="font-size:24pt"><b>数据库</b></span></font></div><div align="justify" style="min-height: 14pt;"><div><font color="#010101" size="2"><span style="font-size:10pt">一、NoSQL ,</span></font><font color="#010101" size="2"><span style="font-size:10pt">（</span></font><font color="#010101" size="2"><span style="font-size:10pt">Not Only SQL</span></font><font color="#010101" size="2"><span style="font-size:10pt">），泛指非关系型数据库。</span></font></div></div><div>1.NoSql的特点?</div><div>  a).Key-value b).不支持sql语句 c.)没有表结构</div><div>2常见关系型数据库与非关系型数据库?</div><div>     关系型:mysql、Oracle、SQLServerr等;</div><div>     非关系型:redis, mongodb等;</div><div>3.redis支持哪些数据类型?</div><div>     hash(哈希);string(字符串);list(链表);set(集合); Zset(有序集合)</div><div>二、redis安装</div><div>- 1.Reids安装需要哪几步？</div><div>  从安装到使用4步;</div><div>  a.)解压软件 tar –zxfv</div><div>  b.)make编译;注意:编译!=安装;</div><div>  c.)安装 make PREFIX= 目录 install;</div><div>  d.)复制config,启动服务;注意:server后面跟那个conf 就由哪个conf启动</div><div>- 2.如何将Redis安装为服务？</div><div>   config   17行 daemonize 改为yes;  查看行号 :set un;</div><div>- 3.如何重启Redis?</div><div>   查看 netstat –tunpl | grep redis</div><div>  pkill redis-server</div><div>  查看  pr –ef |grep redis;</div><div>    4.redis 端口  6379</div><div>三、Redis安全性设置</div><div>1.如何设置密码?</div><div>Redis.conf  [108] requirepass foobared  可能用到命令:set nu  ;</div><div>2.如何登录?</div><div>2.1：方法1 ./redis-cli –a password</div><div>2.2：方法2 登录后 auth password</div><div>四、Redis-<b>String,hash,list,set,Zset</b>5种数据类型和其他命令--详见redis-1表</div><div><span style="font-size: 19px;"><b>1、string键值对</b></span></div><div>set name xiaoyun</div><div>get name</div><div>setnx</div><div>setex color 10 red,10秒后过期</div><div align="justify" style="min-height: 14pt;"><div><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">mset</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">键名</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">1 </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">值</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">1 </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">键名</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">2</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">值</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">2……………</span></font></div><div align="justify" style="min-height: 14pt;"><div><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">msetnx</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">键名</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">1 </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">值</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">1 </span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">键名</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">2</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">值</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">2……………</span></font></div></div></div><div>getset name xiaop设置新值返回旧值</div><div>strlen name 返回长度</div><div>getrange name 0 3</div><div>mget name age</div><div>incr age <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">自增操作，每执行一次自动加</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">1</span></font></div><div>incrby age 100 追加100</div><div align="justify" style="min-height: 12pt;"><div><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"><b>decr</b></span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">同</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">incr</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">一样，自减操作。</span></font>decr age</div></div><div align="justify" style="min-height: 12pt;"><div><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"><b>decrby</b></span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">指定减去的值。decrby age 100</span></font></div></div><div>append 追加字符串</div><div><b><span style="font-size: 19px;">2、哈希类型</span></b></div><div><b>1.Hash数据类型?</b></div><div><b>    像我们上学时候的课本?eg:语文 ===key 课文标题===field  课文内容 === value </b>  </div><div align="justify" style="min-height: 14pt;"><div><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">hset key</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">  field   value例：hset ha1 name xiaopen</span></font></div><div align="justify" style="min-height: 14pt;"><div><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">hget key</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">  field例：hget ha1 name</span></font></div><div align="justify" style="min-height: 12pt;"><div><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt"><b>hsetnx如果field存在则设置不成功，返回0</b></span></font></div><div align="justify" style="min-height: 14pt;"><div><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">hmset key(</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">哈希的名称</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">)   field1  value1  field1 value2例：hmset ha2 name xiaozhao age 30</span></font></div></div></div></div><div><span style="font-family: Calibri;"><span style="color: rgb(1, 1, 1);">hmget ha2 name age</span></span></div><div align="justify" style="min-height: 14pt;"><div><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">hincrby    key  field  number(</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">加的数值</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">)例：</span></font><span style="font-family: Calibri;"><span style="color: rgb(1, 1, 1);">hincrby ha2 age 100</span></span></div></div><div align="justify" style="min-height: 12pt;"><div><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">hexists key  field     例hexists ha2 age</span></font></div><div align="justify" style="min-height: 12pt;"><div><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">hdel  key  field</span></font></div></div></div><div align="justify" style="min-height: 12pt;"><div><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">hkeys  key</span></font></div><div align="justify" style="min-height: 12pt;"><div><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">hvals key</span></font></div></div></div><div align="justify" style="min-height: 12pt;"><div><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">hgetall</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">返回哈希里面所有的</span></font> <font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">field</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">和</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">value</span></font></div></div><div><br/></div><div align="justify" style="font-weight: bold; font-size: 20px;"><font color="#010101" face="Cambria" size="4"><span style="font-size:16pt"><b>3</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:16pt"><b>、</b></span></font><font color="#010101" face="Cambria" size="4"><span style="font-size:16pt"><b>lists</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:16pt"><b>类型及操作</b></span></font></div><div align="justify" style="min-height: 12pt;"><div><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">栈，先进后出；队列，先进先出</span></font></div><div><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">lpush  key value     例lpush list1 one 类似</span></font></div></div><div align="justify" style="min-height: 12pt;"><div><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">lrange key  0   -1</span></font></div></div><div align="justify" style="min-height: 12pt;"><div><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">rpush     rpush list zero</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">从尾部向链表里面添加数据（字符串类型）</span></font></div><div align="justify" style="min-height: 13pt;"><div><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">lset list 1 dagang</span></font></div><div><span style="font-family: Calibri;"><span style="color: rgb(1, 1, 1);">linsert key  before tow  xiaogang</span></span><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">在</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">two</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">元素的前面添加一个元素（</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">xiaogang</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">）</span></font></div><div><span style="font-family: Calibri;"><span style="color: rgb(1, 1, 1);">lset list 1 xiaobai</span></span></div></div></div><div><span style="font-family: Calibri;"><span style="color: rgb(1, 1, 1);">lindex list 1</span></span></div></div><div>ltrim list 1 2</div><div align="justify" style="min-height: 12pt;"><div><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">lpop</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">从头部删除链表中的元素，返回删除的元素 pop list</span></font></div><div align="justify" style="min-height: 12pt;"><div><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">rpop</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">从尾部删除链表中的元素，返回删除的元素</span></font></div></div></div><div align="justify" style="min-height: 14pt;"><div><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">lindex key</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">位置     </span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">返回指定位置的元素</span></font></div><div align="justify" style="min-height: 12pt;"><div><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">llen</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">返回链表中元素的个数</span></font></div></div></div><div><br/></div><div align="justify" style="font-weight: bold; font-size: 20px;"><font color="#010101" face="Cambria" size="4"><span style="font-size:16pt"><b>4</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:16pt"><b>、</b></span></font><font color="#010101" face="Cambria" size="4"><span style="font-size:16pt"><b>set</b></span></font><font color="#010101" face="宋体" size="4"><b><span style="font-size: 16pt;">（集合）类型-</span>唯一、无序</b></font></div><div>sadd set1 one two nihao xiaogang</div><div>smember set1获取</div><div>srem set1 one删除指定元素</div><div>spop set1<font color="#010101" face="宋体" size="2"><span style="font-size:10pt">随机删除集合里面某个元素，返回该元素</span></font></div><div>sdiff set1 set2     差集</div><div>sdiffstore set3 set1 set2</div><div>sinter set1 set2     交集</div><div>sinterstore set4 set1 set2</div><div>sunion set1 set2     并集</div><div>sunionstore set5 set1 set2 </div><div>smove set2 set1 xiaoli 移动</div><div>scard set5<font color="#010101" face="宋体" size="2"><span style="font-size:10pt">返回集合中元素的个数</span></font></div><div>sismember set1 xiaolongbao<font color="#010101" face="宋体" size="2"><span style="font-size:10pt">检测某个元素是否在集合中</span></font></div><div>srandmember set5<font color="#010101" face="宋体" size="2"><span style="font-size:10pt">随机返回集合里面的某个元素，但是并不是删除。</span></font></div><div align="justify" style="font-weight: bold; font-size: 20px;"><font color="#010101" face="Cambria" size="4"><span style="font-size:16pt"><b>5</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:16pt"><b>、</b></span></font><font color="#010101" face="Cambria" size="4"><span style="font-size:16pt"><b>sorted sets</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:16pt"><b>类型及操作</b></span></font></div><div>zadd zset1 12 xiaobai 5 xaioliu 1 xiaohei</div><div>zrange zset1 0 -1</div><div>zrange zset1 0 -1 withscores</div><div>zrem zset1 xiaoliu</div><div align="justify" style="min-height: 13pt;"><div><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">zrank zset1 xiaolong在集合中，返回指定元素的下标。（按照元素的序号升序）</span></font></div></div><div>zrevrank zset1 xiaohei<font color="#010101" face="宋体" size="2"><span style="font-size:10pt">在集合中，返回指定元素的下标。（按照元素的序号降序）</span></font></div><div>zrevrange zset1 0 -1 withscores<font color="#010101" face="宋体" size="2"><span style="font-size:10pt">查看集合里面的内容</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">,</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">按照元素的序号，降序显示的</span></font></div><div align="justify" style="min-height: 13pt;"><div><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">zrangebyscore zset1 6 12 withscores返回集合中，根据序号的范围返回元素。</span></font></div></div><div><span style="font-family: 宋体;"><span style="color: rgb(1, 1, 1);">zcount zset1 6 12</span></span></div><div><span style="font-family: 宋体;"><span style="color: rgb(1, 1, 1);">zcard zset1</span></span></div><div>zremrangebyrank  zset1 8 10<font color="#010101" face="宋体" size="2"><span style="font-size:10pt">删除集合中，指定下标范围内容的元素</span></font></div><div>zremrangebyscore  zset1 8 10<font color="#010101" face="宋体" size="2"><span style="font-size:10pt">删除集合中，指定序号范围内的元素</span></font></div><div><span style="font-family: 宋体;"><span style="color: rgb(1, 1, 1);">Zinterstore---有序集合交集Zinterstore sum_point 2 mid_test fin_test</span></span></div><div><span style="font-family: 宋体;"><span style="color: rgb(1, 1, 1);">Zunionstore---有序集合并集Zunionstore salary 2 programmer manager WEIGHTS 1 3</span></span></div><div align="justify" style="font-weight: bold; font-size: 26px;"><font color="#010101" face="宋体" size="5"><span style="font-size:22pt"><b>五、</b></span></font><font color="#010101" face="Calibri" size="5"><span style="font-size:22pt"><b>redis</b></span></font><font color="#010101" face="宋体" size="5"><span style="font-size:22pt"><b>的其他命令</b></span></font></div><div><span style="font-family: 宋体;"><span style="color: rgb(1, 1, 1);">keys *</span></span></div><div><span style="font-family: 宋体;"><span style="color: rgb(1, 1, 1);">keys n*</span></span></div><div><span style="font-family: 宋体;"><span style="color: rgb(1, 1, 1);">exists email</span></span></div><div><span style="font-family: 宋体;"><span style="color: rgb(1, 1, 1);">del name</span></span></div><div><span style="font-family: 宋体;"><span style="color: rgb(1, 1, 1);">select 1---共16个库</span></span></div><div><span style="font-family: 宋体;"><span style="color: rgb(1, 1, 1);">move name 1</span></span><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">将当前数据库中的</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">key</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">转移到其他数据库中</span></font></div><div><span style="font-family: 宋体;"><span style="color: rgb(1, 1, 1);">expire name 10</span></span><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">给一个键设置有效期，单位是秒</span></font></div><div><span style="font-family: 宋体;"><span style="color: rgb(1, 1, 1);">persist name</span></span><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">把</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">key</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">的有效期设置为永久有效，和</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">expire</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">命令对应</span></font></div><div><span style="font-family: 宋体;"><span style="color: rgb(1, 1, 1);">randomkey</span></span><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">随机返回一个键</span></font></div><div><span style="font-family: 宋体;"><span style="color: rgb(1, 1, 1);">type ha1</span></span><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">返回键的数据类型。</span></font></div><div><span style="font-family: 宋体;"><span style="color: rgb(1, 1, 1);">dbsize</span></span><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">返回当前数据库键的个数</span></font></div><div><span style="font-family: 宋体;"><span style="color: rgb(1, 1, 1);">info</span></span><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">查看</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">redis</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">服务器的一些信息</span></font></div><div><span style="font-family: 宋体;"><span style="color: rgb(1, 1, 1);">flushdb</span></span><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">删除当前选择数据库中的所有</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">key</span></font></div><div><span style="font-family: 宋体;"><span style="color: rgb(1, 1, 1);">flushall删除所有16个库的key</span></span></div><div><span style="font-family: 宋体;"><span style="color: rgb(1, 1, 1);"><br/></span></span></div></span>
</div></body></html> 