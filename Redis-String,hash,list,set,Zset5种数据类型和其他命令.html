<html>
<head>
  <title>Redis-String,hash,list,set,Zset5种数据类型和其他命令</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/303788 (zh-CN, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="2315"/>
<h1>Redis-String,hash,list,set,Zset5种数据类型和其他命令</h1>

<div>
<span><div><b>Redis-String,hash,list,set,Zset</b>5种数据类型和其他命令</div><table border="1" cellpadding="0" cellspacing="0" style="border-collapse: collapse;border:1px solid rgb(211,211,211);table-layout:fixed;width:864px;" width="863"><tr style="height:13.5pt"><td height="18" style="height: 13.5pt;width:13.541666666666666%;" width="100">命令<span style="mso-spacerun:yes"> </span></td><td style="width:23.14814814814815%;" width="208">含义</td><td style="width:32.523148148148145%;" width="286">语法</td><td style="width:30.671296296296298%;" width="269">返回值</td></tr><tr style="height:13.5pt"><td colspan="3" height="18" style="height:13.5pt"><b>Redis-string</b>命令练习，可用于数据缓存</td><td><br/></td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">set<span style="mso-spacerun:yes"> </span></td><td>设置键值,键名存在则覆盖</td><td>set key vaule</td><td>set name xiaoyun</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">setex<span style="mso-spacerun:yes">   </span></td><td>设置延时键值<span style="mso-spacerun:yes">  </span></td><td>setex key time value;</td><td>setex color 10 red,10秒后过期</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">setnx<span style="mso-spacerun:yes">  </span></td><td>若键值存在设置失败</td><td>setnx key value ;<span style="mso-spacerun:yes">  </span></td><td><br/></td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">mset<span style="mso-spacerun:yes">    </span></td><td>一次设计多个键值</td><td>mset key1 value1 key2 value3</td><td><br/></td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">msetnx<span style="mso-spacerun:yes">  </span></td><td>设置多个键值存在则失败<span style="mso-spacerun:yes"> </span></td><td>msetnx key1 value1 key2 value2</td><td><br/></td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">getset<span style="mso-spacerun:yes"> </span></td><td>设置新值返回旧值</td><td>getset key newValue</td><td>getset name xiaop</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">get</td><td>获取键值<span style="mso-spacerun:yes">  </span></td><td>get key<span style="mso-spacerun:yes"> </span></td><td>get name</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">getrange</td><td>获取键值的内容<span style="mso-spacerun:yes"> </span></td><td>getrange key begin end</td><td>getrange name 0 3</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">mget<span style="mso-spacerun:yes"> </span></td><td>一次性获取多个值<span style="mso-spacerun:yes"> </span></td><td>mget key1 key2</td><td>mget name age</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">incr<span style="mso-spacerun:yes"> </span></td><td>键名自增1<span style="mso-spacerun:yes">  </span></td><td>incr key</td><td>incr age</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">incrby<span style="mso-spacerun:yes">     </span></td><td>键名自增指定值<span style="mso-spacerun:yes"> </span></td><td>incrby key num</td><td>incrby age 100 追加100</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">decr<span style="mso-spacerun:yes"> </span></td><td>键名自减 1<span style="mso-spacerun:yes">  </span></td><td>decr key</td><td><br/></td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">decrby<span style="mso-spacerun:yes"> </span></td><td>键名自减指定值</td><td>decrby key num</td><td>decrby age 100</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">append<span style="mso-spacerun:yes"> </span></td><td>追加字符串<span style="mso-spacerun:yes"> </span></td><td>append key value;</td><td><br/></td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">strlen<span style="mso-spacerun:yes">  </span></td><td>获取值长度</td><td>strlen<span style="mso-spacerun:yes"> </span> key</td><td>strlen name</td></tr><tr style="height:13.5pt"><td colspan="3" height="18" style="height:13.5pt"><b>Redis-hash</b>命令练习，可用于临时储存用户数据</td><td><br/></td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">hset<span style="mso-spacerun:yes">   </span></td><td>设置哈希键值</td><td>hset<span style="mso-spacerun:yes"> </span> key<span style="mso-spacerun:yes"> </span> value</td><td>hset ha1 name xiaopen</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">hsetnx<span style="mso-spacerun:yes"> </span></td><td>检测哈希field若存在则0失败<span style="mso-spacerun:yes"> </span></td><td>hsetnx key field value</td><td>hmset ha2 name xiaozhao age 30</td></tr><tr style="height:15.0pt"><td height="20" style="height:15.0pt">hget<span style="mso-spacerun:yes">   </span></td><td>获取hash内容</td><td>hget key field</td><td>hmget ha2 name age</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">hmset<span style="mso-spacerun:yes">  </span></td><td>一次设置多个hash的field value<span style="mso-spacerun:yes"> </span></td><td colspan="2" style="mso-ignore:colspan">hmset key field1<span style="mso-spacerun:yes"> </span> vaule1 field2 vaule2</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">hmget<span style="mso-spacerun:yes"> </span></td><td>一次性获得多个field值<span style="mso-spacerun:yes"> </span></td><td>hmget key field1 field2</td><td><br/></td></tr><tr style="height:15.0pt"><td height="20" style="height:15.0pt">hincrby<span style="mso-spacerun:yes"> </span></td><td>field的值加指定的数值</td><td>hiccrby key field num</td><td>hincrby ha2 age 100</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">hexists<span style="mso-spacerun:yes">  </span></td><td>判断一个field是否存在</td><td>hexisit key field;</td><td>hexists ha2 age存在返回1</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">hdel</td><td>删除一个field</td><td>hdel firld;</td><td><br/></td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">hkeys<span style="mso-spacerun:yes"> </span></td><td>返回hsah里面所有field</td><td>hkeys key</td><td>hkeys ha2</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">hvals</td><td>返回所有的value</td><td>hvals key</td><td>hvals ha2</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">hgetall</td><td>返回所有的 field和value<span style="mso-spacerun:yes">     </span></td><td>hgetall key</td><td><br/></td></tr><tr style="height:13.5pt"><td colspan="3" height="18" style="height:13.5pt"><div><b>Redis-list</b>命令练习，可用于时光机,消息队列</div><div>lrem删除符合条件的元素(count0所有符合的，n，-n从右往左n个符合的)lrem  key  count value</div></td><td><div><br/></div><div>lrem user 2 id5从左往右删除2个是id5的值</div></td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">lpush</td><td>从头部向链表里面添加数据<span style="mso-spacerun:yes">    </span></td><td>lpush<span style="mso-spacerun:yes"> </span> key value</td><td>lpush list1 one</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">lrange</td><td>取出链表里面的全部内容<span style="mso-spacerun:yes">      </span></td><td>lrange key<span style="mso-spacerun:yes"> </span> 0<span style="mso-spacerun:yes">  </span> -1</td><td>lrange key 0 -1</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">rpush</td><td>从尾部向链表里面添加数据<span style="mso-spacerun:yes">    </span></td><td>rpush<span style="mso-spacerun:yes"> </span> key vaule</td><td>rpush list zero</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">linsert</td><td>在链表里指定的位置添加元素<span style="mso-spacerun:yes">  </span></td><td>linsert key<span style="mso-spacerun:yes"> </span> before 谁的前面<span style="mso-spacerun:yes">  </span> 添加内容</td><td>linsert key before tow xiaogang</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">lset</td><td>修改链表里面的元素内容<span style="mso-spacerun:yes">     </span></td><td>lset<span style="mso-spacerun:yes"> </span> key<span style="mso-spacerun:yes"> </span> 元素的位置（从0开始）<span style="mso-spacerun:yes"> </span> 新的值</td><td>lset list 1 dagang</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">ltrim</td><td>保留链表中指定范围的元素<span style="mso-spacerun:yes">   </span></td><td>ltrim key<span style="mso-spacerun:yes"> </span> 开始位置<span style="mso-spacerun:yes"> </span> 结束位置</td><td>ltrim list 1 2</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">lpop</td><td>删除并返回链表的头部元素</td><td>lpop<span style="mso-spacerun:yes"> </span> key</td><td><br/></td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">rpop</td><td>删除并返回链表的尾部元素</td><td>rpop<span style="mso-spacerun:yes"> </span> key</td><td><br/></td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">lindex</td><td>返回指定位置的元素<span style="mso-spacerun:yes">           </span></td><td>lindex key 位置</td><td>lindex list 1</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">llen</td><td>返回链表中元素的个数lsize<span style="mso-spacerun:yes">         </span></td><td>llen<span style="mso-spacerun:yes"> </span> key</td><td><br/></td></tr><tr style="height:13.5pt"><td colspan="3" height="18" style="height:13.5pt"><b>Redis-set</b>命令练习，可用于共同好友<span style="mso-spacerun:yes"> </span></td><td><br/></td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">sadd</td><td>向集合里面添加元素<span style="mso-spacerun:yes"> </span></td><td>sadd key value1 value2</td><td>sadd set1 one two nihao xiaogang</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">smembers</td><td>获取集合里面的元素<span style="mso-spacerun:yes">    </span></td><td>smembers key</td><td>smember set1</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">srem</td><td>删除集合里面指定元素<span style="mso-spacerun:yes"> </span></td><td>srem key<span style="mso-spacerun:yes"> </span> 指定的元素</td><td>srem set1 one</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">spop</td><td>随机删除和返回集合某个元素</td><td>spop key</td><td>spop set1</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">dsiff</td><td>差集</td><td>sdiff key1 key2</td><td>sdiff set1 set2</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">sdiffstore</td><td>求差集并保存到新的集合</td><td>sdiffstore<span style="mso-spacerun:yes"> </span> newKey<span style="mso-spacerun:yes"> </span> key1<span style="mso-spacerun:yes">  </span> key2</td><td>sdiffstore set3 set1 set2</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">sinter</td><td>交集</td><td>sinter<span style="mso-spacerun:yes"> </span> key1 key2</td><td>sinter set1 set2</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">sinterstore</td><td>求交集并保存到新的集合</td><td>sinterstore 新集合 key1 key2</td><td>sinterstore set4 set1 set2</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">sunion</td><td>并集</td><td>sunion key1 key2</td><td>sunion set1 set2</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">sunionstore</td><td>求并集并保存到新的集合</td><td>sunionstore newKey key1 key2</td><td>sunionstore set5 set1 set2 </td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">smove</td><td>移动到key2</td><td>smove<span style="mso-spacerun:yes"> </span> key1<span style="mso-spacerun:yes"> </span> key2<span style="mso-spacerun:yes"> </span> 移动的元素</td><td>smove set2 set1 xiaoli</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">scard</td><td>返回集合中元素的个数</td><td>scard<span style="mso-spacerun:yes"> </span> key</td><td>scard set5</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">sismember</td><td>检测某个元素是否在集合中</td><td>sismember key 元素</td><td>sismember set1 xiaolongbao</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">srandmember</td><td>随机返回集合某元素，不删除</td><td>srandmember key</td><td>srandmember set5</td></tr><tr style="height:13.5pt"><td colspan="3" height="18" style="height:13.5pt"><b>Redis-Zset</b>命令练习，可用于排名</td><td><br/></td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">Zadd</td><td>向有序集合里面添加元素<span style="mso-spacerun:yes"> </span></td><td>zadd key(有序集合名称)<span style="mso-spacerun:yes"> </span> score1<span style="mso-spacerun:yes"> </span> 元素1<span style="mso-spacerun:yes"> </span> score2<span style="mso-spacerun:yes"> </span> 元素2……</td><td>zadd zset1 12 xiaobai 5 xaioliu 1 xiaohei</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">zrange<span style="mso-spacerun:yes"> </span></td><td>按序号升序显示集合元素</td><td>zrange<span style="mso-spacerun:yes"> </span> key<span style="mso-spacerun:yes"> </span> 开始下标<span style="mso-spacerun:yes"> </span> 结束下标<span style="mso-spacerun:yes"> </span> [withscores]</td><td>zrange zset1 0 -1 withscores显示序号</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">zrevrange<span style="mso-spacerun:yes">  </span></td><td>按序号降序显示集合元素</td><td>zrevarange key 0<span style="mso-spacerun:yes"> </span> -1<span style="mso-spacerun:yes"> </span> withscore</td><td>zrevrange zset1 0 -1 withscores</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">zrem<span style="mso-spacerun:yes"> </span></td><td>删除集合中指定的元素<span style="mso-spacerun:yes">                    </span></td><td>zrem key 指定的元素</td><td>zrem zset1 xiaoliu</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">Zrank<span style="mso-spacerun:yes"> </span></td><td>按序号升序返回指定元素的下标<span style="mso-spacerun:yes">            </span></td><td>zrank key<span style="mso-spacerun:yes"> </span> field</td><td>zrank zset1 xiaolong</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">zrevrank<span style="mso-spacerun:yes"> </span></td><td>按序号降序返回指定元素的下标<span style="mso-spacerun:yes">  </span></td><td>zrevrank key field<span style="mso-spacerun:yes"> </span></td><td>zrevrank zset1 xiaohei</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">zrangebyscore<span style="mso-spacerun:yes"> </span></td><td>根据序号的范围返回元素<span style="mso-spacerun:yes">       </span></td><td>zrangebyscore<span style="mso-spacerun:yes"> </span> key<span style="mso-spacerun:yes"> </span> 开始序号<span style="mso-spacerun:yes"> </span> 结束序号</td><td>zrangebyscore zset1 6 12 withscores</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">Zcount</td><td>返回指定序号范围内元素的个数<span style="mso-spacerun:yes"> </span></td><td>zcount key<span style="mso-spacerun:yes"> </span> 开始序号 结束序号</td><td>zcount zset1 6 12</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">zcard<span style="mso-spacerun:yes"> </span></td><td>返回集合中元素的个数</td><td>zcard key</td><td>zcard zset1</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">zremrangebyrank</td><td>删除指定下标范围内容的元素<span style="mso-spacerun:yes">       </span></td><td>zremrangebyrank<span style="mso-spacerun:yes"> </span> key<span style="mso-spacerun:yes"> </span> 开始下标<span style="mso-spacerun:yes"> </span> 结束下标</td><td>zremrangebyrank<span style="mso-spacerun:yes"> </span> zset1 8 10</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">Zremrangebyscore<span style="mso-spacerun:yes">       </span></td><td>删除指定序号范围内的元素。</td><td>zremrangebyscore key<span style="mso-spacerun:yes">   </span> 开始序号 结束序号</td><td>zremrangebyscore<span style="mso-spacerun:yes"> </span> zset1 8 10</td></tr><tr style="height:13.5pt"><td colspan="3" height="18" style="height:13.5pt"><b>Redis</b>的其他命令</td><td><br/></td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">keys</td><td>查看当前数据库下面的键</td><td>keys *或keys n*</td><td>keys *或keys n*</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">exists</td><td>查看某个键是否在当前数据库</td><td>exists key</td><td>exists email</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">del</td><td>删除当前库指定键</td><td>del key1 key2 key3</td><td>del name</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">select</td><td>共16个库</td><td>select<span style="mso-spacerun:yes"> </span> 数据库编号</td><td>select 1---共16个库</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">move</td><td>将当前库的key转移到其他库</td><td>move key<span style="mso-spacerun:yes"> </span> 数据库编号</td><td>move name 1</td></tr><tr style="height:14.25pt"><td height="19" style="height:14.25pt">expire</td><td>给一个键设置有效期，单位是秒</td><td><span lang="EN-US">expire key <font>秒数</font></span></td><td>expire name 10</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">persist</td><td>把key有效期设置为永久</td><td>persist key<span style="mso-spacerun:yes"> </span></td><td>persist name</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">randomkey</td><td>随机返回一个键</td><td>randomkey</td><td>randomkey</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">type</td><td>返回键的数据类型</td><td>type</td><td>type ha1</td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">dbsize</td><td>返回当前库键的个数</td><td>dbsize</td><td><br/></td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">info</td><td>查看redis服务器信息</td><td>info</td><td><br/></td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt"><span lang="EN-US">flushdb</span></td><td>删除当前库中的所有key</td><td><span lang="EN-US">flushdb</span></td><td><br/></td></tr><tr style="height:13.5pt"><td height="18" style="height:13.5pt">flushall</td><td>删除所有数据库中的key</td><td>flushall</td><td><br/></td></tr></table><div><br/></div><div><br/></div><div><br/></div></span>
</div></body></html> 