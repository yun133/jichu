<html>
<head>
  <title>Pday7-PHP基础7（可变、create_function 和匿名函数、变量作用域、生命周期、递归、迭代）</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/303788 (zh-CN, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="631"/>
<h1>Pday7-PHP基础7（可变、create_function 和匿名函数、变量作用域、生命周期、递归、迭代）</h1>

<div>
<span><div><span style="font-size: 19px;"><b>Pday7-PHP基础7（<span style="font-size: 16px;">可变、</span></b><span style="font-size: 16px;"><b><span style="color: rgb(255, 0, 0);">create_function</span></b> <b>和</b><b>匿名函数、</b><b>变量作用域、</b><b>生命周期、递归、迭代</b></span></span><b><span style="font-size: 19px;">）</span></b></div><div><span style="font-size: 16px;"><b>一、可变参数</b></span></div><div>    可变参数，就是指实参的中数量是动态的。而形参一般不写参数。 有的情况下，不知道究竟会有多少个参数，那么形参干脆一个不写。</div><div>    如：var_dump()、unset() 也是可变参数函数，</div><div>提示：以下三个函数<span style="color: rgb(255, 0, 0);"><b>只能在函数内部</b></span>来使用。<span style="color: rgb(255, 0, 0);">一、<b>func_get_args()</b></span>，二、func_get_arg($index)，三、func_num_args()</div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">    function getSum(){</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">        #<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">$arr=func_get_args();         //一、获取传递过来的实参，放入一数组并返回，数组元素下标从0开始递增。</span></span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">        $len=count($arr); //方式2-$len=func_num_args();//三、获取实参的总个数。</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">        $sum=0;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">        for($i=0;$i&lt;$len;$i++){</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">            $sum+=$arr[$i];//方式2-$sum+=func_get_arg($i);        }</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">                       //二、获取第n+1个参数。//注意1.这里是arg而不是args，2.获取的实参下标从0开始算</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">        echo &quot;和为：$sum&quot;;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">        $de=func_get_arg(5);      echo '&lt;br&gt;'.$de;    //结果：45  6</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">    }</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">    getSum(1,2,3,4,5,6,7,8,9);</span></span></span></div></div><div><span style="font-size: 16px;"><b>二、函数返回值：return语句，</b></span>将函数计算完的结果返回到调用函数的位置。作用1：终止函数后面的代码，作用2：返回一个结果</div><div style="margin-left:40px;">return可以在函数中，也可以用在脚本中。</div><div style="margin-left:40px;">    如果用在函数中，相当于中止函数运行，并向调用者返回一个值。</div><div style="margin-left:40px;">    如果用在脚本，相当于中止网页执行。如果用在包含文件中，向include返回值。</div><div><b>     如果在函数运行时想返回多个值，可以将多个值放在一个数组中，然后返回数组即可。</b></div><div>         如果直接返回一个值，那么return的数据和接收调用函数的结果，两者之间是一个拷贝传值的关系，</div><div>         如果想让两者之间是一个引用传址的关系，需要在声明函数的函数名前家一个&amp;</div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">    例：function &amp;fn(){</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">            $arr=array(1,2,3);</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">            $a=10;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">            return $arr;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">            #return 11;//Notice: Only variable references should be returned by reference in</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">        }</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">    $a=fn();var_dump($a);//结果array(3) { [0]=&gt; int(1) [1]=&gt; int(2) [2]=&gt; int(3) }</span></span></span></div></div><div>一般情况下，返回数组很大，普通返回方式会将数组所有内容复制一份，效率低，而使用<b>返回函数的地址</b>，只需要复制一份地址即可，代码<b>效率高</b>。</div><div><b><span style="font-size: 16px;">三、<span style="color: rgb(255, 0, 0);">可变函数</span>：将函数名赋值给一个变量，然后通过变量区调用函数。</span></b></div><div>          可变函数，可以实现动态调用函数。（根据不同情况调用不同函数）</div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div style="margin-left:80px;"><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">$file='ch.bmp';     //实例：根据不同的图片扩展名，调用不同的图片处理函数</span></span></span></div><div style="margin-left:80px;"><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">$type='bmp';</span></span></span></div><div style="margin-left:80px;"><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">$arr=array(</span></span></span></div><div style="margin-left:80px;"><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">    'jpg'=&gt;'imagecreatefromjpg','bmp'=&gt;'imagecreatefrombmp','gif'=&gt;'imagecreatefromgif',</span></span></span><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">);</span></span></span></div><div style="margin-left:80px;"><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">$arr[$type]();</span></span></span></div></div><div><span style="font-size: 16px;"><b>四、<span style="color: rgb(255, 0, 0);">create_function</span>('形参列表','函数体代码')；作用：创建一个<span style="color: rgb(255, 0, 0);">函数</span></b></span></div><div style="margin-left:40px;"><b><i>$fn=create_function('$name','echo &quot;Hello $name&quot;;');</i> </b>   $fn(&quot;李白&quot;);//Hello 李白</div><div style="margin-left:40px;">默认生成的函数名是从lambda_1开始，后面的数字依次递增的一个字符串。</div><div style="margin-left:40px;">并且函数名字中还存在一个隐藏字符。函数名不断变化，安全性高。只有在重启apache时，才会还原。</div><div style="margin-left:80px;">string(10)&quot;lambda_12&quot;</div><div style="margin-left:40px;"><b>create_function只有在执行时才会创建一个函数，如果代码没有执行，则函数没有创建，可以节约代码空间。</b></div><div><span style="font-size: 16px;"><b>五、<span style="color: rgb(255, 0, 0);">匿名函数</span></b></span></div><div style="margin-left:40px;"><b>1、匿名函数，就是没有名字的函数。</b>,不能单独定义，也不能单独调用。如：function(){echo &quot;OK&quot;;}       ();//会报语法错误</div><div style="margin-left:40px;"><b>2、</b>匿名函数的两种<b>用法</b></div><div style="margin-left:40px;">（1）匿名函数，主要用来作为数据，传给其它变量。（赋值给一个变量，通过变量去调用这个匿名函数）</div><div style="margin-left:40px;">（2）匿名函数，可以作为函数的实参，传递给形参</div><div style="margin-left:40px;">    匿名函数赋值的变量，是不是函数名？不是，其实是一个对象，存储的是函数里面的语句。</div><div style="margin-left:40px;">     ？<b><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">怎么判断是一个什么函数</span></b>?---可以使用var_dump(变量名)来<b>查看其数据类型</b>。</div><div style="margin-left:40px;">               如果是普通字符串类型string(2) &quot;fn&quot;，说明其为一个可变函数；如果是一个自增长的字符串string(9) &quot;lambda_6&quot;，说明是create_function创建的函数，如果是一个对象object(Closure)#1(0){}，说明其是一个匿名函数。</div><div><br/></div><div><span style="font-size: 16px;"><b>六、变量作用域：指变量的有效范围</b></span></div><div style="margin-left:40px;"><b>1、JS中的变量作用域：</b></div><div style="margin-left:40px;">     - 全局变量：在<span style="color: rgb(45, 79, 201);">函数外</span>定义的变量称为”全局变量”。<span style="color: rgb(45, 79, 201);">可以直接在函数内使用</span>。<span style="color: rgb(255, 0, 0);">网页执行完毕就消失了</span>。</div><div style="margin-left:40px;">     - 局部变量：在<span style="color: rgb(45, 79, 201);">函数内</span>定义的变量称为”局部变量”。<span style="color: rgb(255, 70, 53);">函数执行完毕就消失了</span>。</div><div style="margin-left:40px;"><b>2、PHP中的变量作用域</b></div><div style="margin-left:40px;">     - 超全局变量：既可在<span style="color: rgb(255, 70, 53);">函数内</span>又可在<span style="color: rgb(255, 70, 53);">函数外</span>使用。网页执行完毕消失。如：$_GET、$_POST</div><div style="margin-left:40px;">     - 全局变量：在<span style="color: rgb(255, 70, 53);">函数外</span>定义和使用的变量称为”全局变量”。<span style="color: rgb(45, 79, 201);">在函数内<span style="color: rgb(255, 70, 53);">不能</span>使用</span>。网页执行完毕就消失了。</div><div style="margin-left:40px;">     - 局部变量：在<span style="color: rgb(45, 79, 201);">函数内</span>定义的变量称为”局部变量”。函数执行完毕就消失了。</div><div style="margin-left:40px;"><b>3、在局部作用域中访问全局变量——global关键字</b></div><div style="margin-left:80px;">- 将一个全局变量引入到函数内部去使用。</div><div style="margin-left:80px;">- 注意：- <b><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">global只能在函数内部使用</span></b>；- global<b>只能引用全局</b>变量，而不能一边引用一边赋值。</div><div style="margin-left:80px;"><b>global</b>关键词引入的变量和全局变量是一个<b>引用传址</b>的关系。</div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div>$name=&quot;张三&quot;；function fn(){</div><div>                              global $name;     //$name=&amp;$name;</div><div>                              $name=&quot;李四&quot;;</div><div>                              unset($name);</div><div>                         }</div><div>                         fn();</div><div>                         echo $name;          //结果：李四</div></div><div style="margin-left:40px;"><b>4、$GLOBALS超全局变量数组：把一个全局变量变成一个超全局变量。</b></div><div style="margin-left:80px;">$GLOBALS<b>是</b>一个超全局变量<b>数组</b>。该数组中<b>包含</b>：<span style="color: rgb(54, 101, 238);">$_GET、$_POST、$_COOKIE、$_FILES</span></div><div style="margin-left:80px;">$变量1和$GROBALS['变量1']两者是<b><span style="color: rgb(255, 0, 0);">一体的关系</span></b>，修改其中一个，另一个也变化，删除其中一个，另一个也被删除。</div><div style="margin-left:80px;">在函数内部输入一个超全局变量，<b>还是</b>需要<b>使用$GLOBALS[变量名]</b>。</div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div>                    $name=&quot;张三&quot;;     function fn(){     echo <b>$GLOBALS[&quot;name&quot;]</b>;     }     fn();//结果张三</div></div><div style="margin-left:40px;"><b>5、use：</b><b>配合匿名函数去进行使用</b>的，作用是引入一个和匿名函数同作用域的变量。</div><div style="margin-left:80px;">use默认情况下引入变量是一个拷贝传值的关系，所以改变匿名函数内部引入变量的值，外部的变量不会发生变化，</div><div style="margin-left:80px;">如果想通过改变匿名函数引入的变量来修改外部变量值的话，那么在use后面的变量名前加上一个&amp;。    </div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">          $name=&quot;王小伟&quot;;     $fn=function() use (&amp;$name){</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">                                    $name=&quot;王大伟&quot;;        </span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">                             }    </span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">                             $fn();     echo $name;//结果王大伟</span></span></span></div></div><div><b><span style="font-size: 16px;">数学函数：1</span></b><b><span style="font-size: 16px;">伪随机数</span></b> <b><span style="font-size: 16px;">int rand([int min,int max])     2四舍五入float round(float val[,int precision])</span></b></div><div><span style="font-size: 16px;"><b>3舍去法取整float floor(float value)舍去value小数部分4进一法取整float ceil(float value)</b></span></div><div><b><span style="font-size: 16px;">例：rand(-10,10)---5     round(2.3456,3)--2.345     floor(2.45)--2     ceil(2.45)--3     </span></b></div><div><span style="font-size: 16px;"><b>七、生命周期：</b></span></div><div style="margin-left:40px;"><b>超全局变量和全局变量</b>的生命周期是从定义的时候开始一直到<b>程序执行完毕</b>的时候<b>终止</b>。</div><div style="margin-left:40px;"><b>局部变量</b>的生命周期是从定义的时候开始一直到<b>函数执行完毕</b>以后终止。</div><div><span style="font-size: 16px;"><b>    静态变量</b></span>：是使用static关键词定义的变量，只会被声明一次不会再次被声明。</div><div>     （只存在于函数作用域内的特殊局部变量，下次调用这函数时，该变量值仍会保留下来。）</div><div style="margin-left:40px;">其生命周期等同于全局变量的生命周期，其<b>作用域</b>等于<b>局部</b>变量的作用域。例：function fun(){ static $num=1;}</div><div><span style="font-size: 16px;"><b>八、递归：分治算法的一种，将一复杂问题拆分为若干相似小问题来解决</b></span>，然后将所有小问题合并起来就是大问题答案（分-拆-合）</div><div style="margin-left:40px;"><span style="color: rgb(255, 0, 0);"><b>注意：在做递归时必须考虑其return的情况，有去有回，返回时的计算问题也要考虑在内。</b></span></div><div style="margin-left:40px;"><span style="color: rgb(255, 0, 0);"><b>（即递归的return不能直接结束循环而是返回上一级递归）</b></span></div><div>        <b>  1、递归分两部分：一、递归点（</b>函数内部调用自己本身的地方<b>）二、递归出口        </b>      </div><div align="justify" style="min-height: 14pt;"><div><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">          举例：阶乘</span></font> <font color="#0000FF" face="Calibri" size="2"><span style="font-size:10pt"><b>n! = n(n-1)!</b></span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">。如：</span></font><font color="#010101" face="Calibri" size="2"><span style="font-size:10pt">5! = 5*4*3*2*1</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">。已知条件：</span></font><font color="#0000FF" face="Calibri" size="2"><span style="font-size:10pt"><b>1</b></span></font><font color="#0000FF" face="宋体" size="2"><span style="font-size:10pt"><b>的阶乘是</b></span></font><font color="#0000FF" face="Calibri" size="2"><span style="font-size:10pt"><b>1</b></span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">。</span></font></div><div>          <img src="Pday7-PHP基础7（可变、create_function 和匿名函数、变量作用域、生_files/Image.png" type="image/png" style="height: auto;"/></div><div><span style="font-family: 宋体;"><span style="color: rgb(1, 1, 1);">一般递归出口都会写在递归点前面，如果没有递归出口，那么函数将会一直运行到时间资源或者空间资源耗尽。</span></span></div><div><span style="font-family: 宋体;"><span style="color: rgb(1, 1, 1);">     斐波拉契数列 ：</span></span><span style="color: rgb(1, 1, 1); font-family: 宋体;">第一项和第二项的值为1，从第三项开始，每一项等于前两项的和。</span></div></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:10mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 99pt;"><div>原理图<img src="Pday7-PHP基础7（可变、create_function 和匿名函数、变量作用域、生_files/Image [1].png" type="image/png" style="height: auto;"/></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">    function fn($n){</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">        if($n==1||$n==2){return 1;}</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">        return fn($n-1)+fn($n-2);</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">    }echo fn(10);    //1 1 2 3 5 8 13 21 34 55 89</span></span></span></div></div></div><div style="margin-left:40px;"><b>2、函数递归调用</b></div><div style="margin-left:80px;">函数递归：在函数中不断的调用自己。</div><div style="margin-left:80px;">函数嵌套：在函数中调用别的函数。</div><div style="margin-left:40px;"><b>3、递归实现的条件</b></div><div style="margin-left:80px;">一、 递归公式：由前一个值，推导出后一值的公式。</div><div style="margin-left:80px;">二、递归出口：递归的退出条件。</div><div style="margin-left:80px;">优点：1代码量简洁，2写起来方便，只需要将题目转换为php语言就可以实现。</div><div style="margin-left:80px;">缺点：十分占用内存空间2十分浪费时间（综上，递归能不用尽量不用）</div><div><span style="font-size: 16px;"><b>九、迭代（递推）例如循环结构就是一个迭代思想（for,while）</b></span></div><div style="margin-left:40px;">缺点 ：相对于递归而言，代码量略微增加</div><div style="margin-left:40px;">优点：节约时间，节约空间</div><div style="margin-left:40px;"><br/></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">（递归算法）有一个猴子，偷到一堆桃子，第一天，他吃了桃子数量的一半多一个，第二天，他又吃了桃子剩下的一半又多一个。。。。第十天，猴子发现还剩1个桃子了，问，这个猴子偷了多少个桃子。</span></span></span></div><div style="margin-left:80px;"><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">function fn($n){     </span></span></span></div><div style="margin-left:80px;"><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">    if($n==1){</span></span></span></div><div style="margin-left:80px;"><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">        return 1;//递归出口</span></span></span></div><div style="margin-left:80px;"><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">   }</span></span></span></div><div style="margin-left:80px;"><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">    return (fn($n-1)+1)*2;</span></span></span></div><div style="margin-left:80px;"><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">} echo fn(10);</span></span></span></div></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div style="margin-left:40px;">静态变量</div><div style="margin-left:40px;">    function fun2(){</div><div style="margin-left:40px;">        static $mm;</div><div style="margin-left:40px;">        $mm++;</div><div style="margin-left:40px;">        echo $mm.'ns';</div><div style="margin-left:40px;">        unset($mm);</div><div style="margin-left:40px;">        $mo=6265665223;</div><div style="margin-left:40px;">        echo $mm.&quot;nx&lt;br&gt;&quot;;</div><div style="margin-left:40px;">    }</div><div style="margin-left:40px;">    fun2();</div><div style="margin-left:40px;">    fun2();</div><div style="margin-left:40px;">    fun2();</div><div>1ns</div><div>Notice: Undefined variable: mm in E:\CZwj\wdc\justTest.php on line 43</div><div>nx     //静态变量删除后单次函数内无法重新赋值</div><div>2ns    //静态变量再次调用函数时数据在原基础上加1</div><div>Notice: Undefined variable: mm in E:\CZwj\wdc\justTest.php on line 43</div><div>nx</div><div>3ns</div><div>Notice: Undefined variable: mm in E:\CZwj\wdc\justTest.php on line 43</div><div>nx</div></div><div><br/></div></span>
</div></body></html> 