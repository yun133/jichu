<html>
<head>
  <title>PHP2filel-day13(PHP目录操作，文件操作)</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/303788 (zh-CN, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1345"/>
<h1>PHP2filel-day13(PHP目录操作，文件操作)</h1>

<div>
<span><div><span style="font-size: 19px;">PHP2filel-day13<span style="color: rgb(1, 1, 1);"><span style="font-size: 21px;"><span style="font-family: 宋体;"><b>(PHP目录操作，文件操作)</b></span></span></span></span></div><div align="justify" style="font-weight: bold; font-size: 15px;"><font color="#010101" face="宋体" size="4"><span style="font-size:16pt"><b>一、目录操作</b></span></font></div><div><div align="justify" style="min-height: 18pt;"><font color="#010101" face="Times New Roman" size="4"><span style="font-size:14pt"><b>1</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:14pt"><b>、创建目录</b></span></font></div><ul style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;list-style-type: disc;"><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">描述：新建目录</span></font></div></li><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">语法：</span></font><font color="#0000FF" face="Times New Roman" size="2"><span style="font-size:10pt">bool <span style="color: rgb(255, 0, 0);"><b>mkdir</b></span> ( string $pathname [, int $mode = 0777 [, bool $recursive = false]] )</span></font></div></li><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">参数：</span></font></div><ul style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;list-style-type: disc;"><li style="display:inline;list-style:none;"><ul style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;list-style-type: disc;"><li style="margin-left: 36pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt; font-family:Times New Roman; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">$pathname</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">，创建的目录名称；</span></font></div></li><li style="margin-left: 36pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt; font-family:Times New Roman; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">$mode</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">，指定目录的权限；</span></font></div><ul style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;list-style-type: disc;"><li style="display:inline;list-style:none;"><ul style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;list-style-type: disc;"><li style="margin-left: 36pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#0000FF" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#0000ff; font-weight:Normal; font-style:Normal; font-decoration:Normal">在</span></font><font color="#0000FF" face="Times New Roman" size="2"><span style="font-size:10pt">windows</span></font><font color="#0000FF" face="宋体" size="2"><span style="font-size:10pt">系统上，权限设置无效</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">；</span></font></div></li><li style="margin-left: 36pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">权限是一个八进制的值：</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">0777</span></font></div></li><li style="margin-left: 36pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">第</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">1</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">位表示所有者权限，第</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">2</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">位表示的所在组权限，第</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">3</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">位表示所有的人权限</span></font></div></li><li style="margin-left: 36pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">每一位权限也是由三个值构成：</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">1</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">为可执行、</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">2</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">为可写、</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">4</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">为可读</span></font></div></li><li style="margin-left: 36pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">举例：如“</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">7</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">”</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">=1+2+4，</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">举例：</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">0644</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">、</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">04444</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">、</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">0755</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">等。</span></font></div></li><li style="margin-left: 36pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">提示：在</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">windows</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">下的只读权限为：</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">0444</span></font></div></li></ul></li></ul></li></ul></li></ul></li></ul><ul style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;list-style-type: disc;"><li style="display:inline;list-style:none;"><ul style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;list-style-type: disc;"><li style="display:inline;list-style:none;"><ul style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;list-style-type: disc;"><li style="margin-left: 51pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt; font-family:Times New Roman; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">$recursive</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">递归创建。如果为</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">TRUE</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">，且上层目录也不存在，则会自动创建。</span></font></div></li></ul></li></ul></li></ul><ul style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;list-style-type: disc;"><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">返回值：创建成功返回</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">TRUE</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">，创建失败返回</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">FALSE</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">。</span></font></div></li><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #ff0000;"><div align="justify" style="min-height: 15pt;"><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#ff0000; font-weight:Normal; font-style:Normal; font-decoration:Normal">提示：文件夹不能替换。文件夹默认./ ../目录。</span></font></div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="color: rgb(51, 51, 51);">    mkdir('../../hhh');//创建单个目录</span></div><div><span style="color: rgb(51, 51, 51);">    if (</span><b>mkdir($dir,0444,true<span style="color: rgb(51, 51, 51);">)</span></b><span style="color: rgb(51, 51, 51);">) {//创建多层目录要加true</span></div><div><span style="color: rgb(51, 51, 51);">        echo &quot;创建成功&quot;;</span></div><div><span style="color: rgb(51, 51, 51);">    } else {</span></div><div><span style="color: rgb(51, 51, 51);">        echo &quot;创建失败&quot;;</span></div><div><span style="color: rgb(51, 51, 51);">    }</span></div></div><div style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent: 0pt;"><div><div align="justify" style="min-height: 18pt;"><font color="#010101" face="Times New Roman" size="4"><span style="font-size:14pt"><b>2</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:14pt"><b>、判断是不是一个目录</b></span></font></div><ul style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;list-style-type: disc;"><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">描述：判断给定文件名是否是一个目录</span></font></div></li><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">语法：</span></font><font color="#0000FF" face="Times New Roman" size="2"><span style="font-size:10pt">bool <b><span style="color: rgb(255, 0, 0);">is_dir</span></b> ( string $filename )例   if (is_dir($dir)) {}</span></font></div></li></ul></div><div><div align="justify" style="min-height: 18pt;"><font color="#010101" face="Times New Roman" size="4"><span style="font-size:14pt"><b>3</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:14pt"><b>、判断目录或文件是否存在</b></span></font></div><ul style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;list-style-type: disc;"><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">描述：检查文件或目录是否存在</span></font></div></li><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">语法：</span></font><font color="#0000FF" face="Times New Roman" size="2"><span style="font-size:10pt">bool <span style="color: rgb(255, 0, 0);"><b>file_exists</b></span> ( string $filename )</span></font></div></li></ul></div><div><div align="justify" style="min-height: 18pt;"><div><font color="#010101" face="Times New Roman" size="4"><span style="font-size:14pt"><b>4</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:14pt"><b>、删除目录：</b></span></font></div></div><ul style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;list-style-type: disc;"><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">描述：删除目录</span></font></div></li><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">语法：</span></font><font color="#0000FF" face="Times New Roman" size="2"><span style="font-size:10pt">bool <span style="color: rgb(255, 0, 0);"><b>rmdir</b></span> ( string $dirname )</span></font></div></li><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">注意：</span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">目录必须是空的才能删除。删除的文件夹不会进入回收站</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">。rmdir($dir);</span></font></div></li></ul></div><div align="justify" style="min-height: 18pt;"><div><font color="#010101" face="Times New Roman" size="4"><span style="font-size:14pt"><b>5</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:14pt"><b>、更改目录的访问权限</b></span></font></div></div><ul><li>描述：改变文件模式</li><li>语法：bool <span style="color: rgb(255, 0, 0);"><b>chmod</b></span> ( string $filename , int $mode )</li><li>参数：$filename，文件名称；$mode，八进制的权限值。<b>chmod($dir,0444);</b></li></ul><div><div align="justify" style="min-height: 18pt;"><div><font color="#010101" face="Times New Roman" size="4"><span style="font-size:14pt"><b>6</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:14pt"><b>、读到文件夹访问权限</b></span></font></div></div><ul style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;list-style-type: disc;"><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">描述：取得文件的权限值</span></font></div></li><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent: 0pt;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">语法：</span></font><font color="#0000FF" face="Times New Roman" size="2"><span style="font-size:10pt">int <b><span style="color: rgb(255, 0, 0);">fileperms</span></b> ( string $filename )</span></font></div></li></ul></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>$int=fileperms(&quot;./image/abc/def/wang/text.txt&quot;); //获取一个文件的权限（八进制）</div><div>$int=decoct($int); //八进制转十进制---也可以写成$int=base_convert($int,10,8);</div><div>echo substr($int,-4); //0666，其中-4是取后四位数</div></div><div><div align="justify" style="min-height: 18pt;"><font color="#010101" face="Times New Roman" size="4"><span style="font-size:14pt"><b>7</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:14pt"><b>、目录重命名或移动目录</b></span></font></div><ul style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;list-style-type: disc;"><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">描述：重命名一个文件或目录</span></font></div></li><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">语法：</span></font><font color="#0000FF" face="Times New Roman" size="2"><span style="font-size:10pt">bool <span style="color: rgb(255, 0, 0);"><b>rename</b></span> ( string $oldname , string $newname )例rename($aaa,$bbb);</span></font></div></li></ul><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>rename('text.txt','tmp.txt');//重命名文件</div><div>rename('./tmp.txt','./linshi/tmp.txt');//<span style="color: rgb(255, 0, 0);">目录移到：位于不同目录下</span></div></div></div><div><div align="justify" style="min-height: 18pt;"><font color="#010101" face="Times New Roman" size="4"><span style="font-size:14pt"><b>8</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:14pt"><b>、打开目录</b></span></font></div><ul style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;list-style-type: disc;"><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">描述：打开目录句柄</span></font></div></li><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">语法：</span></font><font color="#0000FF" face="Times New Roman" size="2"><span style="font-size:10pt">resource <span style="color: rgb(255, 0, 0);">opendir</span> ( string $path )     例：<span style="color: rgb(255, 0, 0);"><b>$handle</b></span>=opendir($dir);</span></font></div></li><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">返回：打开目录成功<b>返回</b>一个</span></font><font color="#0000FF" face="宋体" size="2"><span style="font-size:10pt">句柄</span></font><font color="#0000FF" face="Times New Roman" size="2"><span style="font-size:10pt">(</span></font><b><span style="color: rgb(255, 0, 0);"><font face="宋体" size="2"><span style="font-size:10pt">资源</span></font></span></b><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">)</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">，打开失败返回</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">FALSE</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">。</span></font></div></li><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">提示：</span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">文件系统是</span></font><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">Windows</span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">的内容，不是</span></font><font color="#FF0000" face="Times New Roman" size="2"><span style="font-size:10pt">PHP</span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">的内容</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">。</span></font></div></li></ul></div><div><font color="#010101" face="Times New Roman" size="4"><span style="font-size:14pt"><b>9</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:14pt"><b>、读取目录中的条目</b></span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">语法：</span></font><font color="#0000FF" face="Times New Roman" size="2"><span style="font-size:10pt">string <span style="color: rgb(255, 0, 0);"><b>readdir</b></span> ([ resource $dir_handle ] )</span></font></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">        echo readdir($handle);//.</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">        echo readdir($handle);//..</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">        echo readdir($handle);//text.txt</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">        var_dump(readdir($handle));//bool(false)</span></span></span></div></div><div><div align="justify" style="min-height: 18pt;"><div><span style="font-size: 16px;"><font color="#010101" face="Times New Roman"><b>10</b></font><font color="#010101" face="宋体"><b>、显示中文目录或文件</b></font></span></div></div><ul style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;list-style-type: disc;"><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent: 0pt;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">语法：</span></font><font color="#0000FF" face="Times New Roman" size="2"><span style="font-size:10pt">string <b><span style="color: rgb(255, 0, 0);">iconv</span></b> ( string $in_charset , string $out_charset , string $str )例</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt; font-family:Times New Roman; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">其中</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt; font-family:Times New Roman; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">$</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt; font-family:Times New Roman; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">out_charset</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">，转换后的字符编码；</span></font></div></li></ul></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>     $handle=opendir($dir,'ab');</div><div>     while ($file=readdir($handle)) {</div><div><span style="color: rgb(255, 0, 0);"><b>          echo iconv</b></span>(&quot;gbk&quot;, &quot;utf-8&quot;, $file).&quot;&lt;br&gt;&quot;;</div><div>     }//. .. text.txt 新建文本文档.txt</div></div><div align="justify" style="min-height: 18pt;"><div><span style="font-size: 16px;"><font color="#010101" face="Times New Roman"><b>11</b></font><font color="#010101" face="宋体"><b>、关闭目录</b></font></span><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">语法：</span></font><font color="#0000FF" face="Times New Roman" size="2"><span style="font-size:10pt">void <span style="color: rgb(255, 0, 0);"><b>closedir</b></span> ( resource $dir_handle )</span></font></div><div><span style="font-size: 21px;"><span style="font-family: 宋体;"><b>二、文件操作</b></span></span></div></div><div><span style="font-size: 16px;"><b>1</b><b>、打开文件</b></span></div><ul><li>resource <span style="color: rgb(255, 0, 0);"><b>fopen</b></span> ( string $filename , string $mode ) ：打开文件或者 URL</li><li>r  <span style="color: rgb(255, 0, 0);"><b> 只读</b></span>，<font color="#0000FF" face="Times New Roman" size="2"><span style="font-size:10pt">w<span style="font-family: 宋体;"> </span></span></font><font color="#0000FF" face="宋体" size="2"><span style="font-size:10pt"><b>写入</b>方式打开</span></font><span style="font-family: 宋体;"><span style="color: rgb(0, 0, 255);">文件置0</span></span> ，<font color="#0000FF" face="Times New Roman" size="2"><span style="font-size:10pt">a </span></font><font color="#0000FF" face="宋体" size="2"><span style="font-size:10pt"><b>追加</b>方式打开，w、a文件不存在，会自动创建</span></font></li><li><span style="font-family: 宋体;"><span style="color: rgb(0, 0, 255);">r+ 文件头读写,w+读写方式打开，文件置0，a+</span></span><span style="font-family: 宋体;"><span style="color: rgb(0, 0, 255);">读写追加方式打开</span></span></li><li><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt; font-family:Times New Roman; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">“b”</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">以二进制数据打开，为了安全起见，在打开方式后加上</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">”b”</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">参数。文便内容的移植。</span></font></li><li><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">返回：打开成功返回一个</span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">句柄</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">(</span></font><font color="#FF0000" face="宋体" size="2"><span style="font-size:10pt">资源</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">)</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">，打开失败返回</span></font><font color="#010101" face="Times New Roman" size="2"><span style="font-size:10pt">FALSE</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">。</span></font></div></li></ul><div><span style="font-size: 16px;"><b>2</b><b>、关闭文件</b></span></div><ul><li>描述：关闭一个已打开的文件指针</li><li>语法：bool <span style="color: rgb(255, 0, 0);"><b>fclose</b></span> ( resource $handle )</li></ul><div><span style="font-size: 16px;"><b>3、读取文件内容</b></span></div><div style="margin-left:40px;"><span style="font-size: 16px;"><b>3.1</b><b>读取指定大小的内容</b></span></div><ul><li style="display:inline;list-style:none;"><ul><li>描述：读取文件（可安全用于二进制文件）</li><li>语法：string <span style="color: rgb(255, 0, 0);"><b>fread</b></span> ( resource $handle , int $length )例：<i><b>echo fread($handle,filesize('./test.txt'));</b></i></li></ul></li></ul><div style="margin-left:40px;"><div align="justify" style="min-height: 18pt;"><div><font color="#010101" size="4"><span style="font-size: 14pt;"><b><font face="Times New Roman">3.2</font><font face="宋体">读取一行内容</font></b></span></font></div></div><ul style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;list-style-type: disc;"><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">描述：从文件指针中读取一行，默认1k</span></font></div></li><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">语法：</span></font><font color="#0000FF" face="Times New Roman" size="2"><span style="font-size:10pt">string <span style="color: rgb(255, 0, 0);"><b>fgets</b></span> ( resource $handle [, int $length ] )</span></font></div></li></ul></div><div style="margin-left:40px;"><div align="justify" style="min-height: 18pt;"><div><font color="#010101" size="4"><span style="font-size: 14pt;"><b><font face="Times New Roman">3.3</font><font face="宋体">把整个文件读入数组</font></b></span></font></div></div><ul style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;list-style-type: disc;"><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent: 0pt;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">描述：把整个文件读入一个数组中</span></font></div><ul style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;list-style-type: disc;"><li style="display:inline;list-style:none;"><ul><li>$flags，附加选项。
<ul><li><span style="font-family: 宋体;">FILE_USE_INCLUDE_PATH(1)，在 <a href="mk:@MSITStore:C:%5C20160511%5Cmanual%5Cphp_enhanced_zh.chm::/res/ini.core.html%20%5Cl%20ini.include-path">include_path</a> 中查找文件。</span></li><li><span style="font-family: 宋体;">FILE_IGNORE_NEW_LINES(2)，在数组每个元素的末尾不要添加换行符</span></li><li><span style="font-family: 宋体;">FILE_SKIP_EMPTY_LINES(4)，<b>跳过空行</b></span></li></ul></li></ul></li></ul></li><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent: 0pt; font-size: 10pt;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">语法：</span></font><font face="Times New Roman" size="2"><span style="font-size:10pt"><span style="color: rgb(0, 0, 255);">array</span> <span style="color: rgb(255, 0, 0);"><b>file</b></span> <span style="color: rgb(0, 0, 255);">( string $filename [, int $flags = 0 ] );</span></span></font></div><div align="justify" style="min-height: 15pt;"><font face="Times New Roman" size="2"><span style="font-size:10pt"><i><b>$filename=&quot;http://www.sina.cn&quot;;例：$arr=file($filename,2|4);</b></i></span></font></div></li></ul></div><div style="margin-left:40px;"><div align="justify" style="min-height: 18pt;"><div><font color="#010101" size="4"><span style="font-size: 14pt;"><b><font face="Times New Roman">3.4</font><font face="宋体">把文件内容读入字符串</font></b></span></font><font color="#010101" face="Times New Roman" size="4"><span style="font-size:14pt"><b>(</b></span></font><font color="#010101" face="宋体" size="4"><span style="font-size:14pt"><b>不用打开</b></span></font><font color="#010101" face="Times New Roman" size="4"><span style="font-size:14pt"><b>)</b></span></font></div></div><ul style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;list-style-type: disc;"><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">描述：将整个文件读入一个字符串</span></font></div></li><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent: 0pt;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">语法：</span></font><font color="#0000FF" face="Times New Roman" size="2"><span style="font-size:10pt">string <span style="color: rgb(255, 0, 0);"><b>file_get_contents</b></span> ( string $filename )</span></font></div></li></ul></div><div><span style="font-size: 16px;"><b>4、写入文件</b></span></div><div><div align="justify" style="min-height: 18pt;"><div style="margin-left:40px;"><span style="font-size: 16px;"><font color="#010101"><b><font face="Times New Roman">4.1</font><font face="宋体">写入文件内容</font></b></font></span></div></div><ul style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;list-style-type: disc;"><li style="display:inline;list-style:none;"><ul><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">描述：写入文件（可安全用于二进制文件）</span></font></div></li><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">语法：</span></font><font color="#0000FF" face="Times New Roman" size="2"><span style="font-size:10pt">int <span style="color: rgb(255, 0, 0);"><b>fwrite</b></span> ( resource $handle , string $string [, int $length ] )</span></font></div></li></ul></li></ul></div><div style="margin-left:40px;"><b>$handle=fopen('./shi.txt','ab');     fwrite($handle,'---牡丹亭');     fclose($handle);</b></div><div style="margin-left:40px;"><div align="justify" style="min-height: 18pt;"><div><span style="font-size: 16px;"><font color="#010101"><b><font face="Times New Roman">4.2</font><font face="宋体">将字符串写入文件</font></b></font><font color="#010101" face="Times New Roman"><b>(</b></font><font color="#010101" face="宋体"><b>不用打开</b></font><font color="#010101" face="Times New Roman"><b>)</b></font></span></div></div><ul style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;list-style-type: disc;"><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent:0pt; font-size: 10pt; color: #010101;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">描述：将一个字符串写入文件---例：<i><b>file_put_contents('./text.txt', '牡丹亭'，FILE_APPEND);</b></i>//追加方式写入</span></font></div></li><li style="margin-left: 15pt; margin-right: 0pt; padding-left: 3pt; text-indent: 0pt;"><div align="justify" style="min-height: 15pt;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt; font-family:����; color:#010101; font-weight:Normal; font-style:Normal; font-decoration:Normal">语法：</span></font><font color="#0000FF" face="Times New Roman" size="2"><span style="font-size:10pt">int <span style="color: rgb(255, 0, 0);"><b>file_put_contents</b></span> ( string $filename , mixed $data );//默认是wb覆盖写入模式</span></font></div></li></ul></div><div style="margin-left:40px;"><span style="font-size: 16px;"><b>4.3拷贝文件</b></span></div><ul><li style="display:inline;list-style:none;"><ul><li>语法：bool <b>copy</b> ( string $source , string $dest )</li><li>例$source=&quot;./yao.txt&quot;;       $dest=&quot;./whereit.doc&quot;;       copy($source,$dest);</li></ul></li></ul><div style="margin-left:40px;"><span style="font-size: 16px;"><b>4.4删除文件</b></span></div><ul><li style="display:inline;list-style:none;"><ul><li>语法：bool <b>unlink</b> ( string $filename )</li></ul></li></ul><div style="margin-left:40px;"><span style="font-size: 16px;"><b>4.5取得文件属性</b></span></div><ul><li style="display:inline;list-style:none;"><ul><li>文件大小：filesize($filename)</li><li>创建时间：filectime($filename)</li><li>访问时间：fileatime($filename)</li><li>修改时间：filemtime($filename)</li><li>文件权限：fileperms($filename)</li></ul></li></ul><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div>//实例：递归删除指定目录及所有文件</div><div>    function delFile($dirf){</div><div>        $handle=opendir($dirf);//打开句柄</div><div>               //循环读取所有文件 ，当文件夹为0，0！==false是true，0文件名可读，括号 不能少：=号赋值优先级最低</div><div>        while (<b><span style="color: rgb(255, 0, 0);">(</span></b>$fileName<b><span style="color: rgb(255, 0, 0);">=</span></b>readdir($handle)<b><span style="color: rgb(255, 0, 0);">)</span></b>||$fileName!==false) {</div><div>            //！如果目录为“.”和“..”则跳过,这里不要写错，符号或“||”不要弄错，否则很危险 ！！！！！！！</div><div>          //今天就因为把||写成&amp;&amp;，差点将e盘清空，所以一定要慎之又慎！</div><div>            <b><span style="color: rgb(255, 0, 0);">if($fileName=='.'||$fileName=='..')continue;</span></b></div><div>            $fielzuhe=&quot;$dirf/$fileName&quot;;</div><div>            if (is_dir($fielzuhe)) {//如果是目录则递归删除，如果是普通文件，直接删除</div><div>                delFile($fielzuhe);//递归调用</div><div>            } else {</div><div>                unlink($fielzuhe);//删除文件</div><div>            }</div><div>        }</div><div>        closedir($handle);//关闭句柄</div><div>        return rmdir($dirf);//删除目录</div><div>    }</div><div>    delFile(&quot;./images&quot;);</div></div></div></div></span>
</div></body></html> 