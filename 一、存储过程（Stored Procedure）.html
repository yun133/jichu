<html>
<head>
  <title>一、存储过程（Stored Procedure）</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/303788 (zh-CN, DDL); Windows/6.1.7601 Service Pack 1 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="2875"/>
<h1>一、存储过程（Stored Procedure）</h1>

<div>
<span><div><b><span style="font-size: 19px;"><font color="#333333">一、</font>存储过程（Stored Procedure）</span></b></div><div align="justify" style="min-height: 13pt;"><div><b><span style="font-size: 16px;"><font color="#333333">1.1创建存储过程</font></span></b></div></div><div align="justify" style="min-height: 13pt;"><div style="margin-left:40px;"><font color="#333333" size="2"><span style="font-size:10pt">语法：</span></font></div></div><div align="justify" style="min-height: 13pt;margin-left:40px;"><div><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">create procedure</span></font> <font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">sp_name ([参数,参数..])</span></font></div></div><div align="justify" style="min-height: 12pt;margin-left:40px;"><div><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">begin</span></font></div></div><div align="justify" style="margin-right:0mm; text-indent:7mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;margin-left:40px;"><div><font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">执行体</span></font></div></div><div align="justify" style="min-height: 12pt;"><div style="margin-left:40px;"><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">end</span></font></div><div align="justify" style="min-height: 13pt;"><div><span style="font-size: 16px;"><b><font color="#333333">1.2、使用存储过程：</font></b></span></div></div><div align="justify" style="min-height: 13pt;"><div style="margin-left:40px;"><font color="#333333" size="2"><span style="font-size:10pt">语法：</span><span style="font-size:10pt; background:#c0c0c0">call 存储过程名称();</span></font></div></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 12px;"><span style="color: rgb(51, 51, 51);">例：  delimiter $//将mysql的结束符设置为$，也可使用其他符号#@</span></span></div><div style="margin-left:40px;"><span style="font-size: 12px;"><span style="color: rgb(51, 51, 51);">create procedure p1()</span></span></div><div style="margin-left:40px;"><span style="font-size: 12px;"><span style="color: rgb(51, 51, 51);">begin</span></span></div><div style="margin-left:40px;"><span style="font-size: 12px;"><span style="color: rgb(51, 51, 51);">    select sum(price) from goods;</span></span></div><div style="margin-left:40px;"><span style="font-size: 12px;"><span style="color: rgb(51, 51, 51);">end $</span></span></div><div style="margin-left:40px;"><span style="font-size: 12px;"><span style="color: rgb(51, 51, 51);">delimiter ;//恢复默认结束符</span></span></div></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 12px;"><span style="color: rgb(51, 51, 51);">调用：call p1();</span></span></div></div></div><div><span style="font-size: 16px;"><b>1.3变量使用</b></span></div><div>1) 局部变量</div><div>注意：局部变量可以在子程序（函数、存储过程）中声明并使用，这些变量的作用范围在BEGIN...END程序中。</div><div align="justify" style="min-height: 13pt;"><div><font color="#333333" size="2"><span style="font-size:10pt; background:#00ffff">声明变量语法：</span></font>declare var_name [, var_name]... data_type [ default value ];</div></div><div style="margin-left:40px;">declare 为声明变量的关键字，var_name为局部变量的名称，</div><div style="margin-left:40px;">data_type为变量的数据类型(mysql的全部数据类型都可以使用)，</div><div style="margin-left:40px;">default value给变量提供一个默认值，否则为null</div><div style="margin-left:40px;">例：declare myparam int default 100;</div><div>变量赋值1 ---set为变量赋值</div><div>语法1：<font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">set</span></font> <font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">var_name=expr [, var_name=expr]...;</span></font></div><div>变量赋值2 ---SELECT INTO为变量赋值</div><div>语法2：<font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">select</span></font> <font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">col_name[,...]</span></font> <font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">into</span></font> <font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">var_name[,...] table_expr [WHERE...];</span></font></div><div><font color="#333333">局部变量使用：</font><font color="#333333" size="2"><span style="font-size:10pt"><i>select mingzi,jiage;</i></span></font></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div>delimiter $</div><div>create procedure p4()</div><div>begin</div><div>    declare mingzi varchar(32) default '';</div><div>    declare jiage decimal(10,2) default 0;</div><div>    select name,price into mingzi,jiage from goods where id=3;</div><div>    select mingzi,jiage;</div><div>end $</div><div>delimiter ;</div></div><div>2) 全局(用户)变量</div><div>全局变量的作用域要比局部变量要广，全局变量可以作用于当前整个连接，在子程序的内部/外部</div><div>都可以声明使用，但是当当前连接断开后，其所定义的全局变量都会消失。</div><div>局部变量：只能在存储过程(或函数)内部声明使用</div><div>全局变量：在存储过程(或函数)内部、外部都可以声明使用；建议：内部声明就内部访问，外部声明就外部访问</div><div align="justify" style="min-height: 13pt;"><div><font size="2"><span style="font-size:10pt">创建用户变量</span></font></div></div><div align="justify" style="min-height: 13pt;"><div><font size="2"><span style="font-size:10pt">语法1： </span></font><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">set</span></font> <font size="2"><span style="font-size:10pt; background:#c0c0c0">@name:=value;     示例1</span></font><font size="2"><span style="font-size:10pt">：</span></font> <font size="2"><span style="font-size:10pt; background:#c0c0c0">set  @v1 := 3;</span><span style="font-size:10pt">  或 </span> <span style="font-size:10pt; background:#c0c0c0">set @v1 = 3;</span><span style="font-size:10pt">    //直接赋值，建议：=</span></font></div></div><div align="justify" style="min-height: 13pt;"><div><font size="2"><span style="font-size:10pt">语法2： </span></font><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">select</span></font> <font size="2"><span style="font-size:10pt; background:#c0c0c0">@name:=value,@name:=value....;     </span></font><font size="2"><span style="font-size:10pt">示例2</span><span style="font-size:10pt; background:#c0c0c0">select @age:= 25,@height:=180;</span></font><font size="2"><span style="font-size:10pt">只能使用&quot;:=&quot;方式</span></font></div><div align="justify" style="min-height: 12pt;"><div><font size="2"><span style="font-size:10pt"><i>全局变量：select @city,@people;</i></span></font></div></div></div><div>3) 存储过程参数</div><div>存储过程与函数非常相似，因此可以设置参数</div><div align="justify" style="min-height: 13pt;"><div><font size="2"><span style="font-size:10pt; background:#c0c0c0">create procedure 名称([in|out|inout] 参数名称 type...)</span></font></div></div><div align="justify" style="min-height: 13pt;"><div style="margin-left:40px;"><font size="2"><span style="font-size:10pt; background:#ffff00">in</span><span style="font-size:10pt">：</span></font><font size="2"><span style="font-size:10pt">输入参数，可以是</span></font><font color="#0000FF" size="2"><span style="font-size:10pt">常量</span></font><font size="2"><span style="font-size:10pt">，也可以是</span></font><font color="#0000FF" size="2"><span style="font-size:10pt">变量，类似</span></font><font size="2"><span style="font-size:10pt">【值传递】</span></font></div></div><div style="margin-left:40px;"><div align="justify" style="min-height: 13pt;"><div><font size="2"><span style="font-size:10pt; background:#ffff00">out</span><span style="font-size:10pt">：</span></font><font size="2"><span style="font-size:10pt">输出参数，必须是</span></font><font color="#0000FF" size="2"><span style="font-size:10pt">变量</span></font><font size="2"><span style="font-size:10pt">，</span></font><font size="2"><span style="font-size:10pt">类似【</span></font><font color="#0000FF" size="2"><span style="font-size:10pt">引用</span></font><font size="2"><span style="font-size:10pt">传递】</span></font></div></div></div><div align="justify" style="min-height: 13pt;"><div style="margin-left:40px;"><font size="2"><span style="font-size:10pt; background:#ffff00">inout</span><span style="font-size:10pt">：</span></font><font size="2"><span style="font-size:10pt">输入输出参数，必须是</span></font><font color="#0000FF" size="2"><span style="font-size:10pt">变量</span></font><font size="2"><span style="font-size:10pt">，例:</span></font><font size="2"><span style="font-size:10pt"><i>create procedure p9(inout a int)</i></span></font></div></div><div><span style="font-size: 16px;"><b>1.4 流程控制结构</b></span></div><div>流程控制：单路分支、双路分支、多路分支、循环等</div><div>流程控制结构，都只能在“编程范围(存储过程/存储函数/触发器)”中使用。</div><div>1) if分支
<div align="justify" style="min-height: 13pt;"><font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">if  判断表达式 </span></font></div><div align="justify" style="margin-left:0mm; margin-right:0mm; text-indent:7mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">then </span></font> <font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">begin</span></font><font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">表述1;表述2;表述3;</span></font> <font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">end</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">elseif 判断表达式</span></font></div><div align="justify" style="margin-left:0mm; margin-right:0mm; text-indent:7mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">then </span></font> <font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">begin</span></font><font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">表述1;表述2;表述3;</span></font> <font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">end</span></font></div><div align="justify" style="min-height: 12pt;"><font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">else</span></font></div><div align="justify" style="margin-left:0mm; margin-right:0mm; text-indent:7mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">begin</span></font><font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">表述1;表述2;表述3;</span></font> <font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">end</span></font></div><div align="justify" style="min-height: 12pt;"><div><font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">end if;</span></font></div></div></div><div>2) case分支</div><div>第一种格式：<font color="#333333" size="2"><span style="font-size:10pt">语法1：</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">case</span></font> <font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">表达式</span></font></div><div align="justify" style="margin-left:0mm; margin-right:0mm; text-indent:7mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">when</span></font> <font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">值</span></font> <font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">then</span></font> <font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">表述</span></font></div><div align="justify" style="margin-left:0mm; margin-right:0mm; text-indent:7mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">when</span></font> <font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">值</span></font> <font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">then</span></font> <font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">表述</span></font></div><div align="justify" style="margin-left:0mm; margin-right:0mm; text-indent:7mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">else</span></font> <font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">表述</span></font></div><div align="justify" style="min-height: 12pt;"><div><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">end case</span></font></div></div><div>第二种格式： 语法2：</div><div align="justify" style="min-height: 12pt;"><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">case</span></font></div><div align="justify" style="margin-left:0mm; margin-right:0mm; text-indent:7mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">when</span></font> <font color="#262626" size="2"><span style="font-size:10pt; background:#c0c0c0">判断</span></font><font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">表达式</span></font> <font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">then</span></font> <font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">表述</span></font></div><div align="justify" style="margin-left:0mm; margin-right:0mm; text-indent:7mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">when</span></font> <font color="#262626" size="2"><span style="font-size:10pt; background:#c0c0c0">判断</span></font><font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">表达式</span></font> <font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">then</span></font> <font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">表述</span></font></div><div align="justify" style="margin-left:0mm; margin-right:0mm; text-indent:7mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">else</span></font> <font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">表述</span></font></div><div align="justify" style="min-height: 12pt;"><div><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">end case</span></font></div></div><div>3) while循环</div><div>while语句创建一个带条件判断的循环过程 --语法：</div><div align="justify" style="min-height: 13pt;"><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">while </span></font> <font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">表达式</span></font> <font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">do</span></font></div><div align="justify" style="margin-left:0mm; margin-right:0mm; text-indent:7mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">循环体</span></font></div><div align="justify" style="min-height: 12pt;"><div><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">end while</span></font></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 12px;"><span style="color: rgb(51, 51, 51);">示例：通过while循环变量进行累加。</span></span></div><div><span style="font-size: 12px;"><span style="color: rgb(51, 51, 51);">drop procedure if exists p13;</span></span></div><div><span style="font-size: 12px;"><span style="color: rgb(51, 51, 51);">delimiter $</span></span></div><div><span style="font-size: 12px;"><span style="color: rgb(51, 51, 51);">create procedure p13()</span></span></div><div><span style="font-size: 12px;"><span style="color: rgb(51, 51, 51);">begin</span></span></div><div><span style="font-size: 12px;"><span style="color: rgb(51, 51, 51);">    declare a int default 0;</span></span></div><div><span style="font-size: 12px;"><span style="color: rgb(51, 51, 51);">    while a&lt;10 do</span></span></div><div><span style="font-size: 12px;"><span style="color: rgb(51, 51, 51);">        set a=a+1;</span></span></div><div><span style="font-size: 12px;"><span style="color: rgb(51, 51, 51);">    end while;</span></span></div><div><span style="font-size: 12px;"><span style="color: rgb(51, 51, 51);">    select a;</span></span></div><div><span style="font-size: 12px;"><span style="color: rgb(51, 51, 51);">end $</span></span></div><div><span style="font-size: 12px;"><span style="color: rgb(51, 51, 51);">delimiter ;</span></span></div></div></div><div><span style="font-size: 16px;"><b>1.5光标使用</b></span></div><div>光标可以逐条读取查询结果集中的记录信息。</div><div>光标可以存储、遍历sql语句查询出来的多条记录信息。</div><div align="justify" style="min-height: 13pt;"><div><font color="#333333" size="2"><span style="font-size:10pt; background:#00ffff">声明：</span></font><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">declare</span></font> <font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">光标名称 </span></font> <font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">cursor for</span></font> <font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">sql语句</span></font></div><div align="justify" style="min-height: 13pt;"><div><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">declare exit</span></font><font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">[/</span></font><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">continue</span></font><font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">]</span></font> <font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">handler for not found</span></font> <font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">设置条件;</span></font><font color="#333333" size="2"><span style="font-size:10pt">//</span></font><font color="#333333" size="2"><span style="font-size:10pt">声明</span></font> <font color="#333333" size="2"><span style="font-size:10pt">光标数据获取完毕的处理语句：</span></font></div></div><div align="justify" style="min-height: 13pt;"><div><font color="#333333" size="2"><span style="font-size:10pt; background:#00ffff">打开：</span></font><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">open</span></font> <font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">光标名称;</span></font></div></div><div align="justify" style="min-height: 13pt;"><div><font color="#333333" size="2"><span style="font-size:10pt; background:#00ffff">使用：</span></font><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">fetch</span></font> <font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">光标名称</span></font> <font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">into</span></font> <font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">name1,name2,name3...</span></font><font color="#333333" size="2"><span style="font-size:10pt">//</span></font><font color="#333333" size="2"><span style="font-size:10pt">获得</span></font> <font color="#333333" size="2"><span style="font-size:10pt">光标中的具体数据信息，把信息存储到具体变量中</span></font></div></div><div align="justify" style="min-height: 13pt;"><div><font color="#333333" size="2"><span style="font-size:10pt; background:#00ffff">关闭：</span></font><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">close</span></font> <font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">光标名称;</span></font></div><div align="justify" style="min-height: 13pt;"><div><font color="#333333" size="2"><span style="font-size:10pt">光标也可以同时声明多个，并且</span></font><font color="#00B0F0" size="2"><span style="font-size:10pt">嵌套</span></font><font color="#333333" size="2"><span style="font-size:10pt">使用、</span></font><font color="#00B0F0" size="2"><span style="font-size:10pt">并列</span></font><font color="#333333" size="2"><span style="font-size:10pt">使用均可以：</span></font></div></div></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div align="justify" style="min-height: 12pt;"><font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">CREATE TABLE `goods1` (</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">  `name` varchar(32) NOT NULL DEFAULT '' COMMENT '名称',</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">  `price` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '价格',</span></font></div><div align="justify" style="min-height: 12pt;"><font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">  PRIMARY KEY (`id`)</span></font></div><div align="justify" style="min-height: 12pt;"><div><font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">) ENGINE=InnoDB AUTO_INCREMENT=4 DEFAULT CHARSET=utf8;</span></font></div></div></div></div><div align="justify" style="min-height: 12pt;"><div style="box-sizing: border-box; padding: 8px; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div>drop procedure if exists p14;</div><div>delimiter $</div><div>create procedure p14()</div><div>begin</div><div>    //声明光标赋值变量</div><div>    declare nm varchar(32) default '';</div><div>    declare pr decimal(10,2) default 0;</div><div>    //声明一个光标变量，如果光标数据读取完毕，要修改变量值【在前】</div><div>    declare done int default true;</div><div>    //声明光标，名称为cur_goods【在后】</div><div>    declare cur_goods cursor for select name,price from goods;</div><div>    //光标数据读取完毕设置条件变化,即done=false了</div><div>    declare exit handler for not found set done=false;</div><div><br/></div><div>    //使用光标</div><div>    open cur_goods;</div><div>        //利用循环把光标中的各个记录信息进行获取操作</div><div>        while  done  do</div><div>            //获得光标中的具体数据信息,并存储给nm和pr变量</div><div>            fetch  cur_goods  into nm,pr;</div><div>            //把nm、pr变量信息写入到goods1表中</div><div>            insert into goods1 values (null,nm,pr);</div><div>        end while;</div><div>    //关闭光标</div><div>    close cur_goods;</div><div>end $</div><div>delimiter ;</div></div><div><br/></div><div align="justify"><span style="font-size: 19px;"><b><font color="#333333"><b>1.6 查看存储过程</b></font></b></span></div><div align="justify" style="font-size: 15px;"><font color="#333333" size="2"><span style="font-size:10pt">①</span> <span style="font-size:10pt; background:#c0c0c0">show procedure status like ‘存储过程名称’\G</span><span style="font-size:10pt">    //查看存储过程的状态</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#333333" size="2"><span style="font-size:10pt">②</span> <span style="font-size:10pt; background:#c0c0c0">show create procedure 存储过程名称\G  </span><span style="font-size:10pt">           //查看创建存储过程的信息</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#333333" size="2"><span style="font-size:10pt">\G表示以一种更友好的、清楚的方式显示信息</span></font></div><div align="justify" style="min-height: 13pt;"><div><font color="#333333" size="2"><span style="font-size:10pt">③</span> <span style="font-size:10pt; background:#c0c0c0">select * from mysql.proc;</span> <span style="font-size:10pt">       //存储过程存储在”mysql数据库”的proc数据表中</span></font></div></div></div><div align="justify"><span style="font-size: 19px;"><b><font color="#333333"><b>1.7 删除存储过程</b></font></b></span><font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">drop  procedure  [if  exists] 名字;</span></font></div><div align="justify" style="font-weight: bold;"><span style="font-size: 19px;"><font color="#333333"><b>1.8</b></font><font color="#333333"><b>存储过程好处</b></font></span></div><div align="justify"><div align="justify" style="min-height: 13pt;"><div><font color="#0000FF" size="2"><span style="font-size:10pt">1提高数据库执行速度2</span></font><font color="#0000FF" size="2"><span style="font-size:10pt">复杂操作简单化3</span></font><font color="#0000FF" size="2"><span style="font-size:10pt">重复使用4</span></font><font color="#0000FF" size="2"><span style="font-size:10pt">安全性高</span></font></div></div></div><div><b><font color="#333333" size="5"><span style="font-size:18pt"><b>二、</b></span></font></b><b><font color="#333333" size="5"><span style="font-size:18pt"><b>存</b></span></font></b> <b><font color="#333333" size="5"><span style="font-size:18pt"><b>储函数</b></span></font></b></div><div align="justify" style="min-height: 13pt;"><font color="#333333" size="2"><span style="font-size:10pt">mysql函数分为两种：系统函数、自定义函数</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#333333" size="2"><span style="font-size:10pt; background:#ffff00">系统函数</span><span style="font-size:10pt">：例如sum()、count()、avg()、max()、min()、unix_timestamp()获取时间戳、from_unixtime()时间戳变为格式化时间等等</span></font></div><div align="justify" style="min-height: 13pt;"><div><font color="#333333" size="2"><span style="font-size:10pt; background:#ffff00">自定义函数</span><span style="font-size:10pt">：用户可以根据自身需要给系统定义函数(存储函数)，定义好的函数在使用上与系统函数的格式完全一致</span></font></div></div><div align="justify" style="font-size: 15px;"><b><b><font color="#333333" size="4"><span style="font-size:16pt">2.1</span></font> <font color="#333333" size="4"><span style="font-size:16pt">创建</span></font></b></b><font color="#333333" size="2"><span style="font-size:10pt">语法：</span></font></div><div align="justify" style="min-height: 13pt;"><div><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">create function</span></font> <font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">函数名称(参数)</span></font></div></div><div align="justify" style="min-height: 13pt;"><div><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">returns</span></font> <font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">数据类型</span></font></div></div><div align="justify" style="min-height: 12pt;"><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">begin</span></font></div><div align="justify" style="margin-left:0mm; margin-right:0mm; text-indent:7mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">函数执行体</span></font></div><div align="justify" style="margin-left:0mm; margin-right:0mm; text-indent:7mm; margin-top:0.00mm; margin-bottom:0.00mm;min-height: 13pt;"><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">return</span></font> <font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">被返回的信息</span></font></div><div align="justify" style="min-height: 12pt;"><div><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">end</span></font></div></div><div align="justify" style="min-height: 13pt;"><font color="#333333" size="2"><span style="font-size:10pt; background:#ffff00">create function</span><span style="font-size:10pt">： 为用来创建存储函数的关键字；</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#333333" size="2"><span style="font-size:10pt; background:#ffff00">参数</span><span style="font-size:10pt">：设置形式与存储过程类似 ，</span><span style="font-size:10pt; background:#c0c0c0">参数名称  类型</span><span style="font-size:10pt">  参数都是in输入型的</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#333333" size="2"><span style="font-size:10pt; background:#ffff00">returns 数据类型</span><span style="font-size:10pt">：表示函数返回数据的类型，是</span></font><font color="#FF0000" size="2"><span style="font-size:10pt">必须</span></font><font color="#333333" size="2"><span style="font-size:10pt">要设置的</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#333333" size="2"><span style="font-size:10pt; background:#ffff00">begin...end</span><span style="font-size:10pt">：为构造复合语句的标记</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#333333" size="2"><span style="font-size:10pt; background:#ffff00">函数执行体</span><span style="font-size:10pt">：与存储过程相同，里边可以有</span></font><font color="#0000FF" size="2"><span style="font-size:10pt">变量</span></font><font color="#333333" size="2"><span style="font-size:10pt">、</span></font><font color="#0000FF" size="2"><span style="font-size:10pt">流程结构</span></font><font color="#333333" size="2"><span style="font-size:10pt">等</span></font></div><div align="justify" style="min-height: 13pt;"><div><font color="#333333" size="2"><span style="font-size:10pt; background:#ffff00">return</span><span style="font-size:10pt">  ：该函数返回的具体信息，数据类型要求与returns一致</span></font></div></div><div><b><font color="#333333" size="4"><span style="font-size:16pt"><b>2.2</b></span></font> <font color="#333333" size="4"><span style="font-size:16pt">查看</span></font></b></div><div align="justify" style="min-height: 13pt;"><font color="#333333" size="2"><span style="font-size:10pt">①</span> <span style="font-size:10pt; background:#c0c0c0">show  create function  名称\G</span></font></div><div align="justify" style="min-height: 13pt;"><div><font color="#333333" size="2"><span style="font-size:10pt">②</span> <span style="font-size:10pt; background:#c0c0c0">select * from mysql.proc;</span></font></div></div><div><b><font color="#333333" size="4"><span style="font-size:16pt"><b>2.3</b></span></font> <font color="#333333" size="4"><span style="font-size:16pt">删除</span></font></b></div><div align="justify" style="min-height: 13pt;"><div><font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">drop function [if exists] 名称;</span></font></div></div><div><div align="justify" style="min-height: 13pt;"><font color="#0000FF" size="2"><span style="font-size:10pt">存储过程</span></font><font color="#333333" size="2"><span style="font-size:10pt">与</span></font><font color="#0000FF" size="2"><span style="font-size:10pt">存储函数</span></font><font color="#333333" size="2"><span style="font-size:10pt">的不同点：</span></font></div><ol style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;"><li style="margin-left: 15pt; margin-right: 0pt; text-indent: 0pt; font-size: 10pt; color: rgb(51, 51, 51);"><div align="justify" style="min-height: 13pt;"><font color="#333333" size="2"><span style="font-size: 10pt; color: rgb(51, 51, 51); font-weight: normal; font-style: normal;">存储函数参数没有in  out  inout 标志，默认都是in的</span></font></div></li><li style="margin-left: 15pt; margin-right: 0pt; text-indent: 0pt; font-size: 10pt; color: rgb(51, 51, 51);"><div align="justify" style="min-height: 13pt;"><font color="#333333" size="2"><span style="font-size: 10pt; color: rgb(51, 51, 51); font-weight: normal; font-style: normal;">存储函数使用“</span></font><font color="#0000FF" size="2"><span style="font-size:10pt">select  函数()</span></font><font color="#333333" size="2"><span style="font-size:10pt">” 方式调用，可以作为sql语句的一部分进行调用；存储过程使用“</span></font><font color="#0000FF" size="2"><span style="font-size:10pt">call  存储过程名()</span></font><font color="#333333" size="2"><span style="font-size:10pt">” 方式调用，其作为</span></font><font color="#0000FF" size="2"><span style="font-size:10pt">独立</span></font><font color="#333333" size="2"><span style="font-size:10pt">的部分执行。</span></font></div></li><li style="margin-left: 15pt; margin-right: 0pt; text-indent: 0pt; font-size: 10pt; color: rgb(51, 51, 51);"><div align="justify" style="min-height: 13pt;"><font color="#333333" size="2"><span style="font-size: 10pt; color: rgb(51, 51, 51); font-weight: normal; font-style: normal;">函数可以通过return返回信息，而存储过程不允许使用return，但是其可以通过out参数返回多个值</span></font></div></li></ol><div align="justify" style="min-height: 13pt;"><font color="#333333" size="2"><span style="font-size:10pt">其他注意事项：</span></font></div><ol style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;"><li style="margin-left: 15pt; margin-right: 0pt; text-indent: 0pt; font-size: 10pt; color: rgb(51, 51, 51);"><div align="justify" style="min-height: 13pt;"><font color="#333333" size="2"><span style="font-size: 10pt; color: rgb(51, 51, 51); font-weight: normal; font-style: normal;">存储过程内部可以调用其他存储过程，通过call调用</span></font></div></li><li style="margin-left: 15pt; margin-right: 0pt; text-indent: 0pt;"><div align="justify" style="min-height: 13pt;"><font color="#333333" size="2"><span style="font-size: 10pt; color: rgb(51, 51, 51); font-weight: normal; font-style: normal;">存储过程/函数</span></font><font color="#0000FF" size="2"><span style="font-size:10pt">参数名称</span></font><font color="#333333" size="2"><span style="font-size:10pt">要与数据表的</span></font><font color="#0000FF" size="2"><span style="font-size:10pt">字段名称</span></font><font color="#333333" size="2"><span style="font-size:10pt">区别开来，否则出现异常错误</span></font></div></li></ol></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div>示例：调用函数传递数字参数，根据数字参数获得指定goods表的name名字信息</div><div>drop function if exists f1;</div><div>delimiter $</div><div>create function f1(i int)</div><div>returns varchar(32)</div><div>begin</div><div>    declare nm varchar(32) default '';</div><div>    select name into nm from goods where id=i;</div><div>    return nm;</div><div>end $</div><div>delimiter ;</div><div>使用效果：</div><div>mysql&gt; <b>select f1(5);//注意不是call</b></div></div><div><br/></div><div><b><font color="#333333" size="5"><span style="font-size:18pt"><b>3. 触发器</b></span></font></b></div><div align="justify" style="font-weight: bold; font-size: 15px;"><font color="#333333" size="4"><span style="font-size:16pt"><b>3.1 什么叫触发器</b></span></font></div><div align="justify" style="min-height: 13pt;"><div><font size="2"><span style="font-size:10pt">触发器（trigger）有的人说它是一种特殊的”存储过程”，</span></font><font size="2"><span style="font-size:10pt">由</span></font><font color="#0000FF" size="2"><span style="font-size:10pt">事件</span></font><font size="2"><span style="font-size:10pt">来触发</span></font></div></div><div align="justify" style="min-height: 13pt;"><div><font size="2"><span style="font-size:10pt">触发器经常用于加强数据的</span></font><font color="#0000FF" size="2"><span style="font-size:10pt">完整性约束</span></font><font size="2"><span style="font-size:10pt">和</span></font><font color="#0000FF" size="2"><span style="font-size:10pt">业务规则制定</span></font><font size="2"><span style="font-size:10pt">等。</span></font></div></div><div><br/></div><div align="justify" style="font-size: 15px;"><b><font color="#333333" size="4"><span style="font-size:16pt"><b>3.2创建触发器</b></span></font></b><font size="2"><span style="font-size:10pt">语法：</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">create trigger</span></font> <font size="2"><span style="font-size:10pt; background:#c0c0c0">触发器名称 触发时间 监听事件</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">on</span></font> <font size="2"><span style="font-size:10pt; background:#c0c0c0">表名</span></font> <font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">for each row</span></font></div><div align="justify" style="min-height: 12pt;"><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">begin</span></font></div><div align="justify" style="min-height: 13pt;"><font size="2"><span style="font-size:10pt; background:#c0c0c0">    要执行的代码 或称作 触发事件；</span></font></div><div align="justify" style="min-height: 12pt;"><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">end</span></font><font size="2"><span style="font-size:10pt; background:#c0c0c0">;</span></font></div><div align="justify" style="min-height: 13pt;"><font size="2"><span style="font-size:10pt">create trigger ...  on ... for  each  row  begin ... end 是创建触发器的关键字</span></font></div><div align="justify" style="min-height: 13pt;"><font size="2"><span style="font-size:10pt; background:#ffff00">触发器名称</span><span style="font-size:10pt">：触发器本身有名称</span></font></div><div align="justify" style="min-height: 13pt;"><font size="2"><span style="font-size:10pt; background:#ffff00">触发时间</span><span style="font-size:10pt">：可以指定为before或after</span></font></div><div align="justify" style="min-height: 13pt;"><font size="2"><span style="font-size:10pt; background:#ffff00">监听事件</span><span style="font-size:10pt">：可以是insert、update、delete</span></font></div><div align="justify" style="min-height: 13pt;"><font size="2"><span style="font-size:10pt; background:#ffff00">表名</span><span style="font-size:10pt">：对哪个数据表建立触发器</span></font></div><div align="justify" style="min-height: 13pt;"><div><font size="2"><span style="font-size:10pt; background:#ffff00">触发事件</span><span style="font-size:10pt">：被触发执行的事件，可以是具体的insert、update、delete语句</span></font></div></div><div><h3 align="justify"><font color="#333333" size="4"><span style="font-size:16pt"><b>3.4 查看和删除</b></span></font></h3><div align="justify" style="min-height: 13pt;"><font color="#333333" size="2"><span style="font-size:10pt">查看：</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#333333" size="2"><span style="font-size:10pt">①</span> <span style="font-size:10pt; background:#c0c0c0">show triggers\G;</span></font></div><div align="justify" style="min-height: 13pt;"><div><font color="#333333" size="2"><span style="font-size:10pt">②</span> <span style="font-size:10pt; background:#c0c0c0">information_schema</span> <span style="font-size:10pt">数据库的</span><span style="font-size:10pt; background:#c0c0c0">triggers</span><span style="font-size:10pt">数据表存储的都是触发器</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#333333" size="2"><span style="font-size:10pt">删除：</span></font></div><div align="justify" style="min-height: 13pt;"><div><font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">drop trigger [if exists] 触发器名称;</span></font></div></div></div></div><div>注意：<font size="2"><span style="font-size:10pt">相同的数据表，</span></font><font color="#FF0000" size="2"><span style="font-size:10pt">相同时间</span></font><font size="2"><span style="font-size:10pt">、</span></font><font color="#FF0000" size="2"><span style="font-size:10pt">相同事件</span></font><font size="2"><span style="font-size:10pt">的触发器只能创建一个</span></font></div><div style="box-sizing: border-box; padding: 8px; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div>例：创建一个触发器，当订单表形成订单之后的时候，自动做商品库存扣除操作</div><div>delimiter $</div><div>create trigger indent_ai_tri</div><div>after insert</div><div>on indent for each row</div><div>begin</div><div>    update goods set number=number-new.num where id=new.gid;</div><div>end $</div><div>delimiter ;</div></div><div><b><font color="#333333" size="5"><span style="font-size:22pt"><b>三、视图</b></span></font></b></div><div align="justify"><b><span style="font-size: 26px;"><span style="color: rgb(51, 51, 51);"><span style="font-size: 19px;"><font color="#333333"><span style="color: rgb(51, 51, 51); font-weight: bold; font-style: normal;"><b>3.0视图含义</b></span></font></span></span></span></b></div><div align="justify"><div align="justify" style="min-height: 13pt;"><div><font color="#333333" size="2"><span style="font-size:10pt">把经常需要的字段存储到一个临时表中，直接到该临时表获得信息</span></font></div></div></div><div align="justify" style="min-height: 13pt;"><div><font color="#333333" size="2"><span style="font-size:10pt">视图是从一个或多个表中导出的虚拟表，视图的行为与表相似，但视图是虚拟的(但可以用Navicat视图查看到），</span></font></div><div><font color="#333333" size="2"><span style="font-size:10pt">视图包含一系列带有数据的行和名称的列。然后就可以正常使用。</span></font></div></div><div><b><font color="#333333" size="4"><span style="font-size:16pt"><b>3.1 创建视图</b></span></font></b></div><div><font size="2"><span style="font-size:10pt">语法：</span></font><p style="margin-top:0; margin-bottom:0; min-height: 15pt;"><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">create</span></font> <font size="2"><span style="font-size:10pt; background:#c0c0c0">[or replace]</span></font> <font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">view</span></font> <font size="2"><span style="font-size:10pt; background:#c0c0c0">视图名称[(属性列)]</span></font></p><div style="margin-top:0; margin-bottom:0; min-height: 15pt;"><div><font color="#FF0000" size="2"><span style="font-size:10pt; background:#c0c0c0">as </span></font> <font size="2"><span style="font-size:10pt; background:#c0c0c0">sql语句</span></font></div></div></div><div>例：create view testv1(user_id,username,password) as select user_id,username,password from sw_user;</div><div><b><font color="#333333" size="4"><span style="font-size:16pt"><b>3.2 查询视图</b></span></font></b></div><div align="justify" style="min-height: 13pt;"><font color="#333333" size="2"><span style="font-size:10pt">① desc  视图名称;    //查看视图字段</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#333333" size="2"><span style="font-size:10pt">② show table status like ‘视图名称’;  //查看视图状态</span></font></div><div align="justify" style="min-height: 13pt;"><font color="#333333" size="2"><span style="font-size:10pt">③ show create view  视图名称;   //查看视图创建语句的</span></font></div><div align="justify" style="min-height: 13pt;"><div><font color="#333333" size="2"><span style="font-size:10pt">④ select * from</span> <span style="font-size:10pt; background:#ffff00">information_schema.views</span> <span style="font-size:10pt">where table_name=’视图名称’\G</span></font></div></div><div><b><font color="#333333" size="4"><span style="font-size:16pt"><b>3.3 删除视图</b></span></font></b><font color="#333333" size="2"><span style="font-size:10pt">语法：</span></font><font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">drop  view  [if exists]  视图名称;</span></font></div><div><b><font color="#333333" size="4"><span style="font-size:16pt"><b>3.4 修改视图</b></span></font></b><font color="#333333" size="2"><span style="font-size:10pt">语法：</span></font><font color="#333333" size="2"><span style="font-size:10pt; background:#c0c0c0">create or replace view 视图名称  as  sql语句</span></font></div><div><b><font color="#333333" size="5"><span style="font-size:18pt"><b>3.5.视图的好处</b></span></font></b></div><div><font size="2"><span style="font-size:10pt">1. 简单化，视图可以简化用户对数据的理解，也可以简化他们的操作。</span></font><p style="margin-top:0; margin-bottom:0; min-height: 15pt;"><font size="2"><span style="font-size:10pt">2. 安全性，通过权限可以对视图的数据行、数据列进行授权访问控制</span></font></p><div style="margin-top:0; margin-bottom:0; min-height: 15pt;"><div><font size="2"><span style="font-size:10pt">3. 运行速度快，视图是已经编译好的sql语句，运行速度快</span></font></div><div><b><font color="#333333" size="5"><span style="font-size: 18pt; color: rgb(51, 51, 51); font-weight: bold; font-style: normal;"><b>3.6视图和表是什么关系</b></span></font></b></div></div></div><div><ol style="margin-top: 0mm; margin-bottom: 0mm; margin-left: 0mm; padding-left: 0pt;"><li style="margin-left: 15pt; margin-right: 0pt; text-indent: 0pt; font-size: 10pt; color: rgb(51, 51, 51);"><div align="justify" style="min-height: 13pt;"><font color="#333333" size="2"><span style="font-size: 10pt; color: rgb(51, 51, 51); font-weight: normal; font-style: normal;">视图编译好的sql语句，表不是</span></font></div></li><li style="margin-left: 15pt; margin-right: 0pt; text-indent: 0pt; font-size: 10pt; color: rgb(51, 51, 51);"><div align="justify" style="min-height: 13pt;"><font color="#333333" size="2"><span style="font-size: 10pt; color: rgb(51, 51, 51); font-weight: normal; font-style: normal;">视图没有物理记录，表有</span></font></div></li><li style="margin-left: 15pt; margin-right: 0pt; text-indent: 0pt; font-size: 10pt; color: rgb(51, 51, 51);"><div align="justify" style="min-height: 13pt;"><font color="#333333" size="2"><span style="font-size: 10pt; color: rgb(51, 51, 51); font-weight: normal; font-style: normal;">视图是逻辑概念存在，表是物理空间中的实体内容</span></font></div></li><li style="margin-left: 15pt; margin-right: 0pt; text-indent: 0pt; font-size: 10pt; color: rgb(51, 51, 51);"><div align="justify" style="min-height: 13pt;"><font color="#333333" size="2"><span style="font-size: 10pt; color: rgb(51, 51, 51); font-weight: normal; font-style: normal;">视图是查看表的一种方法，从安全方面看，视图可以防止用户接触数据表，因而用户不知道表结构</span></font></div></li><li style="margin-left: 15pt; margin-right: 0pt; text-indent: 0pt; font-size: 10pt; color: rgb(51, 51, 51);"><div align="justify" style="min-height: 13pt;"><font color="#333333" size="2"><span style="font-size: 10pt; color: rgb(51, 51, 51); font-weight: normal; font-style: normal;">视图的建立和删除只影响视图本身，不影响对应的基本表</span></font></div></li></ol></div><div><br/></div><div><br/></div></span>
</div></body></html> 